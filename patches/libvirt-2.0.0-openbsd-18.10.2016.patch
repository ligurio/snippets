diff --git a/Makefile.in b/Makefile.in
index e57e8ad..a8d2e5f 100644
--- a/Makefile.in
+++ b/Makefile.in
@@ -228,6 +228,7 @@ am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
 	$(top_srcdir)/m4/virt-compile-warnings.m4 \
 	$(top_srcdir)/m4/virt-curl.m4 $(top_srcdir)/m4/virt-dbus.m4 \
 	$(top_srcdir)/m4/virt-driver-bhyve.m4 \
+	$(top_srcdir)/m4/virt-driver-openbsd-vmm.m4 \
 	$(top_srcdir)/m4/virt-driver-uml.m4 \
 	$(top_srcdir)/m4/virt-driver-vz.m4 \
 	$(top_srcdir)/m4/virt-fuse.m4 $(top_srcdir)/m4/virt-gluster.m4 \
@@ -368,7 +369,7 @@ am__DIST_COMMON = $(srcdir)/Makefile.in $(srcdir)/config.h.in \
 	$(top_srcdir)/build-aux/mkinstalldirs ABOUT-NLS AUTHORS \
 	COPYING COPYING.LESSER ChangeLog INSTALL NEWS README TODO \
 	build-aux/ar-lib build-aux/compile build-aux/config.guess \
-	build-aux/config.rpath build-aux/config.sub \
+	build-aux/config.rpath build-aux/config.sub build-aux/depcomp \
 	build-aux/install-sh build-aux/ltmain.sh build-aux/missing \
 	build-aux/mkinstalldirs
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
@@ -1781,6 +1782,8 @@ VGREMOVE = @VGREMOVE@
 VGS = @VGS@
 VGSCAN = @VGSCAN@
 VIR_TEST_EXPENSIVE_DEFAULT = @VIR_TEST_EXPENSIVE_DEFAULT@
+VMCTL = @VMCTL@
+VMD = @VMD@
 WARN_CFLAGS = @WARN_CFLAGS@
 WCHAR_T_SUFFIX = @WCHAR_T_SUFFIX@
 WIN32_EXTRA_CFLAGS = @WIN32_EXTRA_CFLAGS@
diff --git a/aclocal.m4 b/aclocal.m4
index 6c3d7ec..732823a 100644
--- a/aclocal.m4
+++ b/aclocal.m4
@@ -220,21 +220,6 @@ m4_popdef([pkg_default])
 m4_popdef([pkg_description])
 ]) dnl PKG_NOARCH_INSTALLDIR
 
-
-# PKG_CHECK_VAR(VARIABLE, MODULE, CONFIG-VARIABLE,
-# [ACTION-IF-FOUND], [ACTION-IF-NOT-FOUND])
-# -------------------------------------------
-# Retrieves the value of the pkg-config variable for the given module.
-AC_DEFUN([PKG_CHECK_VAR],
-[AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl
-AC_ARG_VAR([$1], [value of $3 for $2, overriding pkg-config])dnl
-
-_PKG_CONFIG([$1], [variable="][$3]["], [$2])
-AS_VAR_COPY([$1], [pkg_cv_][$1])
-
-AS_VAR_IF([$1], [""], [$5], [$4])dnl
-])# PKG_CHECK_VAR
-
 # Copyright (C) 2002-2014 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
@@ -1712,6 +1697,7 @@ m4_include([m4/virt-compile-warnings.m4])
 m4_include([m4/virt-curl.m4])
 m4_include([m4/virt-dbus.m4])
 m4_include([m4/virt-driver-bhyve.m4])
+m4_include([m4/virt-driver-openbsd-vmm.m4])
 m4_include([m4/virt-driver-uml.m4])
 m4_include([m4/virt-driver-vz.m4])
 m4_include([m4/virt-fuse.m4])
diff --git a/config.h.in b/config.h.in
index 7725f9e..3fddba0 100644
--- a/config.h.in
+++ b/config.h.in
@@ -2460,6 +2460,12 @@
    selabel_open parameter */
 #undef VIR_SELINUX_OPEN_CONST
 
+/* Location of the vmctl tool */
+#undef VMCTL
+
+/* Location of the vmd tool */
+#undef VMD
+
 /* Define to 1 if unsetenv returns void instead of int. */
 #undef VOID_UNSETENV
 
@@ -2567,6 +2573,9 @@
 /* whether local network filter management driver is available */
 #undef WITH_NWFILTER
 
+/* whether OpenBSD VMM driver is enabled */
+#undef WITH_OPENBSD_VMM
+
 /* whether OpenVZ driver is enabled */
 #undef WITH_OPENVZ
 
diff --git a/configure b/configure
index 3feb8f7..c8a54cf 100755
--- a/configure
+++ b/configure
@@ -683,6 +683,7 @@ with_login_shell=check
 with_host_validate=check
 with_vz=check
 with_bhyve=check
+with_openbsd_vmm=check
 with_uml=check
 gt_needs=
 ac_subst_vars='gltests_LTLIBOBJS
@@ -862,6 +863,10 @@ GNUTLS_LIBS
 GNUTLS_CFLAGS
 LIBXML_LIBS
 LIBXML_CFLAGS
+WITH_OPENBSD_VMM_FALSE
+WITH_OPENBSD_VMM_TRUE
+VMCTL
+VMD
 WITH_BHYVE_FALSE
 WITH_BHYVE_TRUE
 BHYVELOAD
@@ -2446,6 +2451,7 @@ with_login_shell
 with_host_validate
 with_vz
 with_bhyve
+with_openbsd_vmm
 with_libxml
 with_gnutls
 with_tls_priority
@@ -3281,6 +3287,7 @@ Optional Packages:
   --with-host-validate    build virt-host-validate [default=check]
   --with-vz               add Virtuozzo support [default=check]
   --with-bhyve            add BHyVe support [default=check]
+  --with-openbsd-vmm      add OpenBSD VMM support [default=check]
   --with-libxml=[PFX]     libxml2 location
   --with-gnutls           use GNUTLS for encryption [default=check]
   --with-tls-priority     set the default TLS session priority string
@@ -64281,6 +64288,139 @@ fi
 
 
 
+
+
+
+# Check whether --with-openbsd_vmm was given.
+if test "${with_openbsd_vmm+set}" = set; then :
+  withval=$with_openbsd_vmm;
+fi
+
+
+
+    if test "$with_openbsd_vmm" != "no"; then
+        # Extract the first word of "vmd", so it can be a program name with args.
+set dummy vmd; ac_word=$2
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+$as_echo_n "checking for $ac_word... " >&6; }
+if ${ac_cv_path_VMD+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  case $VMD in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_VMD="$VMD" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$PATH:/usr/sbin"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_path_VMD="$as_dir/$ac_word$ac_exec_ext"
+    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+VMD=$ac_cv_path_VMD
+if test -n "$VMD"; then
+  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $VMD" >&5
+$as_echo "$VMD" >&6; }
+else
+  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
+fi
+
+
+        # Extract the first word of "vmctl", so it can be a program name with args.
+set dummy vmctl; ac_word=$2
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+$as_echo_n "checking for $ac_word... " >&6; }
+if ${ac_cv_path_VMCTL+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  case $VMCTL in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_VMCTL="$VMCTL" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$PATH:/usr/sbin"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_path_VMCTL="$as_dir/$ac_word$ac_exec_ext"
+    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+VMCTL=$ac_cv_path_VMCTL
+if test -n "$VMCTL"; then
+  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $VMCTL" >&5
+$as_echo "$VMCTL" >&6; }
+else
+  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
+fi
+
+
+
+        if test -z "$VMD" || test -z "$VMCTL" || test "$with_openbsd" = "no"; then
+            if test "$with_openbsd_vmm" = "check"; then
+                with_openbsd_vmm="no"
+            else
+                as_fn_error $? "The OpenBSD VMM driver cannot be enabled" "$LINENO" 5
+            fi
+        else
+            with_openbsd_vmm="yes"
+        fi
+    fi
+
+    if test "$with_openbsd_vmm" = "yes"; then
+
+cat >>confdefs.h <<_ACEOF
+#define WITH_OPENBSD_VMM 1
+_ACEOF
+
+
+cat >>confdefs.h <<_ACEOF
+#define VMD "$VMD"
+_ACEOF
+
+
+cat >>confdefs.h <<_ACEOF
+#define VMCTL "$VMCTL"
+_ACEOF
+
+    fi
+     if test "$with_openbsd_vmm" = "yes"; then
+  WITH_OPENBSD_VMM_TRUE=
+  WITH_OPENBSD_VMM_FALSE='#'
+else
+  WITH_OPENBSD_VMM_TRUE='#'
+  WITH_OPENBSD_VMM_FALSE=
+fi
+
+
+
+
 if test "$with_linux" = "yes"; then
     # Various kernel versions have headers that are not self-standing, but
     # yet are incompatible with the corresponding glibc headers.  In order
@@ -71487,6 +71627,10 @@ if test -z "${WITH_BHYVE_TRUE}" && test -z "${WITH_BHYVE_FALSE}"; then
   as_fn_error $? "conditional \"WITH_BHYVE\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${WITH_OPENBSD_VMM_TRUE}" && test -z "${WITH_OPENBSD_VMM_FALSE}"; then
+  as_fn_error $? "conditional \"WITH_OPENBSD_VMM\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${WITH_GNUTLS_TRUE}" && test -z "${WITH_GNUTLS_FALSE}"; then
   as_fn_error $? "conditional \"WITH_GNUTLS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
@@ -74049,6 +74193,10 @@ $as_echo "$as_me:        vz: $with_vz" >&6;}
     { $as_echo "$as_me:${as_lineno-$LINENO}:     Bhyve: $with_bhyve" >&5
 $as_echo "$as_me:     Bhyve: $with_bhyve" >&6;}
 
+
+    { $as_echo "$as_me:${as_lineno-$LINENO}: OpenBSD VMM: $with_openbsd_vmm" >&5
+$as_echo "$as_me: OpenBSD VMM: $with_openbsd_vmm" >&6;}
+
 { $as_echo "$as_me:${as_lineno-$LINENO}:      Test: $with_test" >&5
 $as_echo "$as_me:      Test: $with_test" >&6;}
 { $as_echo "$as_me:${as_lineno-$LINENO}:    Remote: $with_remote" >&5
diff --git a/configure.ac b/configure.ac
index 5c48a02..7e8b8f9 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1076,6 +1076,13 @@ LIBVIRT_DRIVER_CHECK_BHYVE
 
 
 dnl
+dnl Checks for OpenBSD VMM driver
+dnl
+
+LIBVIRT_DRIVER_CHECK_OPENBSD_VMM
+
+
+dnl
 dnl check for kernel headers required by src/bridge.c
 dnl
 if test "$with_linux" = "yes"; then
@@ -2737,6 +2744,7 @@ AC_MSG_NOTICE([      ESX: $with_esx])
 AC_MSG_NOTICE([  Hyper-V: $with_hyperv])
 LIBVIRT_DRIVER_RESULT_VZ
 LIBVIRT_DRIVER_RESULT_BHYVE
+LIBVIRT_DRIVER_RESULT_OPENBSD_VMM
 AC_MSG_NOTICE([     Test: $with_test])
 AC_MSG_NOTICE([   Remote: $with_remote])
 AC_MSG_NOTICE([  Network: $with_network])
diff --git a/daemon/Makefile.in b/daemon/Makefile.in
index 7bb47c7..ad74980 100644
--- a/daemon/Makefile.in
+++ b/daemon/Makefile.in
@@ -250,6 +250,7 @@ am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
 	$(top_srcdir)/m4/virt-compile-warnings.m4 \
 	$(top_srcdir)/m4/virt-curl.m4 $(top_srcdir)/m4/virt-dbus.m4 \
 	$(top_srcdir)/m4/virt-driver-bhyve.m4 \
+	$(top_srcdir)/m4/virt-driver-openbsd-vmm.m4 \
 	$(top_srcdir)/m4/virt-driver-uml.m4 \
 	$(top_srcdir)/m4/virt-driver-vz.m4 \
 	$(top_srcdir)/m4/virt-fuse.m4 $(top_srcdir)/m4/virt-gluster.m4 \
@@ -1815,6 +1816,8 @@ VGREMOVE = @VGREMOVE@
 VGS = @VGS@
 VGSCAN = @VGSCAN@
 VIR_TEST_EXPENSIVE_DEFAULT = @VIR_TEST_EXPENSIVE_DEFAULT@
+VMCTL = @VMCTL@
+VMD = @VMD@
 WARN_CFLAGS = @WARN_CFLAGS@
 WCHAR_T_SUFFIX = @WCHAR_T_SUFFIX@
 WIN32_EXTRA_CFLAGS = @WIN32_EXTRA_CFLAGS@
diff --git a/daemon/libvirtd.c b/daemon/libvirtd.c
index 95c1b1c..dcee89f 100644
--- a/daemon/libvirtd.c
+++ b/daemon/libvirtd.c
@@ -83,6 +83,9 @@
 # ifdef WITH_BHYVE
 #  include "bhyve/bhyve_driver.h"
 # endif
+# ifdef WITH_OPENBSD_VMM
+#  include "openbsd/openbsd_vmm_driver.h"
+# endif
 # ifdef WITH_NETWORK
 #  include "network/bridge_driver.h"
 # endif
diff --git a/docs/Makefile.in b/docs/Makefile.in
index 0a47713..193a0cb 100644
--- a/docs/Makefile.in
+++ b/docs/Makefile.in
@@ -228,6 +228,7 @@ am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
 	$(top_srcdir)/m4/virt-compile-warnings.m4 \
 	$(top_srcdir)/m4/virt-curl.m4 $(top_srcdir)/m4/virt-dbus.m4 \
 	$(top_srcdir)/m4/virt-driver-bhyve.m4 \
+	$(top_srcdir)/m4/virt-driver-openbsd-vmm.m4 \
 	$(top_srcdir)/m4/virt-driver-uml.m4 \
 	$(top_srcdir)/m4/virt-driver-vz.m4 \
 	$(top_srcdir)/m4/virt-fuse.m4 $(top_srcdir)/m4/virt-gluster.m4 \
@@ -1683,6 +1684,8 @@ VGREMOVE = @VGREMOVE@
 VGS = @VGS@
 VGSCAN = @VGSCAN@
 VIR_TEST_EXPENSIVE_DEFAULT = @VIR_TEST_EXPENSIVE_DEFAULT@
+VMCTL = @VMCTL@
+VMD = @VMD@
 WARN_CFLAGS = @WARN_CFLAGS@
 WCHAR_T_SUFFIX = @WCHAR_T_SUFFIX@
 WIN32_EXTRA_CFLAGS = @WIN32_EXTRA_CFLAGS@
diff --git a/docs/apibuild.py b/docs/apibuild.py
index f5216ea..90322ed 100755
--- a/docs/apibuild.py
+++ b/docs/apibuild.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python -u
+#!/usr/local/bin/python -u
 #
 # This is the API builder, it parses the C sources and build the
 # API formal description in XML.
diff --git a/docs/drivers.html.in b/docs/drivers.html.in
index be7483b..378debc 100644
--- a/docs/drivers.html.in
+++ b/docs/drivers.html.in
@@ -34,6 +34,7 @@
       <li><strong><a href="drvphyp.html">IBM PowerVM (phyp)</a></strong></li>
       <li><strong><a href="drvvirtuozzo.html">Virtuozzo</a></strong></li>
       <li><strong><a href="drvbhyve.html">Bhyve</a></strong> - The BSD Hypervisor</li>
+      <li><strong><a href="drvopenbsd.html">OpenBSD VMM</a></strong> - The OpenBSD VMM Hypervisor</li>
     </ul>
 
     <h2><a name="storage">Storage drivers</a></h2>
diff --git a/docs/index.html.in b/docs/index.html.in
index c4025de..2cedfbc 100644
--- a/docs/index.html.in
+++ b/docs/index.html.in
@@ -78,6 +78,9 @@
         The <a href="http://libvirt.org/drvbhyve.html">Bhyve</a> hypervisor
       </li>
       <li>
+        The <a href="http://libvirt.org/drvopenbsd.html">OpenBSD VMM</a> hypervisor
+      </li>
+      <li>
         Virtual networks using bridging, NAT, VEPA and VN-LINK.
       </li>
       <li>
diff --git a/docs/libvirt-api.xml b/docs/libvirt-api.xml
index e1602a4..bb9759c 100644
--- a/docs/libvirt-api.xml
+++ b/docs/libvirt-api.xml
@@ -1737,6 +1737,7 @@
      <exports symbol='VIR_FROM_NONE' type='enum'/>
      <exports symbol='VIR_FROM_NWFILTER' type='enum'/>
      <exports symbol='VIR_FROM_ONE' type='enum'/>
+     <exports symbol='VIR_FROM_OPENBSD_VMM' type='enum'/>
      <exports symbol='VIR_FROM_OPENVZ' type='enum'/>
      <exports symbol='VIR_FROM_PARALLELS' type='enum'/>
      <exports symbol='VIR_FROM_PERF' type='enum'/>
@@ -2991,7 +2992,7 @@ conf file'/>
     <enum name='VIR_ERR_CPU_INCOMPATIBLE' file='virterror' value='91' type='virErrorNumber' info='given CPU is incompatible with host
 CP'/>
     <enum name='VIR_ERR_DBUS_SERVICE' file='virterror' value='89' type='virErrorNumber' info='error from a dbus service'/>
-    <enum name='VIR_ERR_DOMAIN_LAST' file='virterror' value='66' type='virErrorDomain'/>
+    <enum name='VIR_ERR_DOMAIN_LAST' file='virterror' value='67' type='virErrorDomain'/>
     <enum name='VIR_ERR_DOM_EXIST' file='virterror' value='28' type='virErrorNumber' info='the domain already exist'/>
     <enum name='VIR_ERR_DRIVER_FULL' file='virterror' value='25' type='virErrorNumber' info='too many drivers registered'/>
     <enum name='VIR_ERR_ERROR' file='virterror' value='2' type='virErrorLevel' info='An error'/>
@@ -3122,6 +3123,7 @@ formed or broken'/>
     <enum name='VIR_FROM_NWFILTER' file='virterror' value='33' type='virErrorDomain' info='Error from network filter driver'/>
     <enum name='VIR_FROM_ONE' file='virterror' value='27' type='virErrorDomain' info='The OpenNebula driver no longer exists.
 Retained for ABI/API compat only'/>
+    <enum name='VIR_FROM_OPENBSD_VMM' file='virterror' value='66' type='virErrorDomain' info='Error from OpenBSD VMM'/>
     <enum name='VIR_FROM_OPENVZ' file='virterror' value='14' type='virErrorDomain' info='Error from OpenVZ driver'/>
     <enum name='VIR_FROM_PARALLELS' file='virterror' value='48' type='virErrorDomain' info='Error from Parallels'/>
     <enum name='VIR_FROM_PERF' file='virterror' value='65' type='virErrorDomain' info='Error from perf'/>
diff --git a/docs/libvirt-refs.xml b/docs/libvirt-refs.xml
index 0029204..6b9fd31 100644
--- a/docs/libvirt-refs.xml
+++ b/docs/libvirt-refs.xml
@@ -774,6 +774,7 @@
     <reference name='VIR_FROM_NONE' href='html/libvirt-virterror.html#VIR_FROM_NONE'/>
     <reference name='VIR_FROM_NWFILTER' href='html/libvirt-virterror.html#VIR_FROM_NWFILTER'/>
     <reference name='VIR_FROM_ONE' href='html/libvirt-virterror.html#VIR_FROM_ONE'/>
+    <reference name='VIR_FROM_OPENBSD_VMM' href='html/libvirt-virterror.html#VIR_FROM_OPENBSD_VMM'/>
     <reference name='VIR_FROM_OPENVZ' href='html/libvirt-virterror.html#VIR_FROM_OPENVZ'/>
     <reference name='VIR_FROM_PARALLELS' href='html/libvirt-virterror.html#VIR_FROM_PARALLELS'/>
     <reference name='VIR_FROM_PERF' href='html/libvirt-virterror.html#VIR_FROM_PERF'/>
@@ -2509,6 +2510,7 @@
       <ref name='VIR_FROM_NONE'/>
       <ref name='VIR_FROM_NWFILTER'/>
       <ref name='VIR_FROM_ONE'/>
+      <ref name='VIR_FROM_OPENBSD_VMM'/>
       <ref name='VIR_FROM_OPENVZ'/>
       <ref name='VIR_FROM_PARALLELS'/>
       <ref name='VIR_FROM_PERF'/>
@@ -6408,6 +6410,7 @@
       <ref name='VIR_FROM_NONE'/>
       <ref name='VIR_FROM_NWFILTER'/>
       <ref name='VIR_FROM_ONE'/>
+      <ref name='VIR_FROM_OPENBSD_VMM'/>
       <ref name='VIR_FROM_OPENVZ'/>
       <ref name='VIR_FROM_PARALLELS'/>
       <ref name='VIR_FROM_PERF'/>
diff --git a/docs/sitemap.html.in b/docs/sitemap.html.in
index 757d5aa..7e90891 100644
--- a/docs/sitemap.html.in
+++ b/docs/sitemap.html.in
@@ -270,6 +270,10 @@
                 <a href="drvbhyve.html">Bhyve</a>
                 <span>Driver for bhyve</span>
               </li>
+              <li>
+                <a href="drvopenbsd.html">OpenBSD</a>
+                <span>Driver for OpenBSD VMM hypervisor</span>
+              </li>
             </ul>
           </li>
           <li>
diff --git a/examples/Makefile.in b/examples/Makefile.in
index e1b7d5c..5a12988 100644
--- a/examples/Makefile.in
+++ b/examples/Makefile.in
@@ -237,6 +237,7 @@ am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
 	$(top_srcdir)/m4/virt-compile-warnings.m4 \
 	$(top_srcdir)/m4/virt-curl.m4 $(top_srcdir)/m4/virt-dbus.m4 \
 	$(top_srcdir)/m4/virt-driver-bhyve.m4 \
+	$(top_srcdir)/m4/virt-driver-openbsd-vmm.m4 \
 	$(top_srcdir)/m4/virt-driver-uml.m4 \
 	$(top_srcdir)/m4/virt-driver-vz.m4 \
 	$(top_srcdir)/m4/virt-fuse.m4 $(top_srcdir)/m4/virt-gluster.m4 \
@@ -1877,6 +1878,8 @@ VGREMOVE = @VGREMOVE@
 VGS = @VGS@
 VGSCAN = @VGSCAN@
 VIR_TEST_EXPENSIVE_DEFAULT = @VIR_TEST_EXPENSIVE_DEFAULT@
+VMCTL = @VMCTL@
+VMD = @VMD@
 WARN_CFLAGS = @WARN_CFLAGS@
 WCHAR_T_SUFFIX = @WCHAR_T_SUFFIX@
 WIN32_EXTRA_CFLAGS = @WIN32_EXTRA_CFLAGS@
diff --git a/gnulib/lib/Makefile.in b/gnulib/lib/Makefile.in
index e804638..5cd9f05 100644
--- a/gnulib/lib/Makefile.in
+++ b/gnulib/lib/Makefile.in
@@ -251,6 +251,7 @@ am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
 	$(top_srcdir)/m4/virt-compile-warnings.m4 \
 	$(top_srcdir)/m4/virt-curl.m4 $(top_srcdir)/m4/virt-dbus.m4 \
 	$(top_srcdir)/m4/virt-driver-bhyve.m4 \
+	$(top_srcdir)/m4/virt-driver-openbsd-vmm.m4 \
 	$(top_srcdir)/m4/virt-driver-uml.m4 \
 	$(top_srcdir)/m4/virt-driver-vz.m4 \
 	$(top_srcdir)/m4/virt-fuse.m4 $(top_srcdir)/m4/virt-gluster.m4 \
@@ -1739,6 +1740,8 @@ VGREMOVE = @VGREMOVE@
 VGS = @VGS@
 VGSCAN = @VGSCAN@
 VIR_TEST_EXPENSIVE_DEFAULT = @VIR_TEST_EXPENSIVE_DEFAULT@
+VMCTL = @VMCTL@
+VMD = @VMD@
 WARN_CFLAGS = @WARN_CFLAGS@
 WCHAR_T_SUFFIX = @WCHAR_T_SUFFIX@
 WIN32_EXTRA_CFLAGS = @WIN32_EXTRA_CFLAGS@
diff --git a/gnulib/tests/Makefile.in b/gnulib/tests/Makefile.in
index e3e7e4a..b19da48 100644
--- a/gnulib/tests/Makefile.in
+++ b/gnulib/tests/Makefile.in
@@ -354,6 +354,7 @@ am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
 	$(top_srcdir)/m4/virt-compile-warnings.m4 \
 	$(top_srcdir)/m4/virt-curl.m4 $(top_srcdir)/m4/virt-dbus.m4 \
 	$(top_srcdir)/m4/virt-driver-bhyve.m4 \
+	$(top_srcdir)/m4/virt-driver-openbsd-vmm.m4 \
 	$(top_srcdir)/m4/virt-driver-uml.m4 \
 	$(top_srcdir)/m4/virt-driver-vz.m4 \
 	$(top_srcdir)/m4/virt-fuse.m4 $(top_srcdir)/m4/virt-gluster.m4 \
@@ -3200,6 +3201,8 @@ VGREMOVE = @VGREMOVE@
 VGS = @VGS@
 VGSCAN = @VGSCAN@
 VIR_TEST_EXPENSIVE_DEFAULT = @VIR_TEST_EXPENSIVE_DEFAULT@
+VMCTL = @VMCTL@
+VMD = @VMD@
 WARN_CFLAGS = @WARN_CFLAGS@
 WCHAR_T_SUFFIX = @WCHAR_T_SUFFIX@
 WIN32_EXTRA_CFLAGS = @WIN32_EXTRA_CFLAGS@
diff --git a/include/libvirt/Makefile.in b/include/libvirt/Makefile.in
index 44854af..9adc854 100644
--- a/include/libvirt/Makefile.in
+++ b/include/libvirt/Makefile.in
@@ -228,6 +228,7 @@ am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
 	$(top_srcdir)/m4/virt-compile-warnings.m4 \
 	$(top_srcdir)/m4/virt-curl.m4 $(top_srcdir)/m4/virt-dbus.m4 \
 	$(top_srcdir)/m4/virt-driver-bhyve.m4 \
+	$(top_srcdir)/m4/virt-driver-openbsd-vmm.m4 \
 	$(top_srcdir)/m4/virt-driver-uml.m4 \
 	$(top_srcdir)/m4/virt-driver-vz.m4 \
 	$(top_srcdir)/m4/virt-fuse.m4 $(top_srcdir)/m4/virt-gluster.m4 \
@@ -1702,6 +1703,8 @@ VGREMOVE = @VGREMOVE@
 VGS = @VGS@
 VGSCAN = @VGSCAN@
 VIR_TEST_EXPENSIVE_DEFAULT = @VIR_TEST_EXPENSIVE_DEFAULT@
+VMCTL = @VMCTL@
+VMD = @VMD@
 WARN_CFLAGS = @WARN_CFLAGS@
 WCHAR_T_SUFFIX = @WCHAR_T_SUFFIX@
 WIN32_EXTRA_CFLAGS = @WIN32_EXTRA_CFLAGS@
diff --git a/include/libvirt/virterror.h b/include/libvirt/virterror.h
index 2ec560e..86b542e 100644
--- a/include/libvirt/virterror.h
+++ b/include/libvirt/virterror.h
@@ -131,6 +131,7 @@ typedef enum {
     VIR_FROM_XENXL = 64,        /* Error from Xen xl config code */
 
     VIR_FROM_PERF = 65,         /* Error from perf */
+    VIR_FROM_OPENBSD_VMM = 66,  /* Error from OpenBSD VMM */
 
 # ifdef VIR_ENUM_SENTINELS
     VIR_ERR_DOMAIN_LAST
diff --git a/src/Makefile.am b/src/Makefile.am
index 275bfc7..3de6840 100644
--- a/src/Makefile.am
+++ b/src/Makefile.am
@@ -642,6 +642,7 @@ DRIVER_SOURCE_FILES = \
 
 STATEFUL_DRIVER_SOURCE_FILES = \
 	$(BHYVE_DRIVER_SOURCES) \
+	$(OPENBSD_VMM_DRIVER_SOURCES) \
 	$(INTERFACE_DRIVER_SOURCES) \
 	$(LIBXL_DRIVER_SOURCES) \
 	$(LXC_DRIVER_SOURCES) \
@@ -925,6 +926,11 @@ BHYVE_DRIVER_SOURCES =						\
 		bhyve/bhyve_utils.h				\
 		$(NULL)
 
+OPENBSD_VMM_DRIVER_SOURCES =					\
+		openbsd/openbsd_vmm_driver.c			\
+		openbsd/openbsd_vmm_driver.h			\
+		$(NULL)
+
 NETWORK_DRIVER_SOURCES =					\
 		network/bridge_driver.h network/bridge_driver.c \
 		network/bridge_driver_platform.h 		\
@@ -1542,6 +1548,27 @@ libvirt_driver_bhyve_impl_la_LDFLAGS = $(AM_LDFLAGS)
 libvirt_driver_bhyve_impl_la_SOURCES = $(BHYVE_DRIVER_SOURCES)
 endif WITH_BHYVE
 
+if WITH_OPENBSD_VMM
+noinst_LTLIBRARIES += libvirt_driver_openbsd_vmm_impl.la
+libvirt_driver_openbsd_vmm_la_SOURCES =
+libvirt_driver_openbsd_vmm_la_LIBADD = libvirt_driver_openbsd_vmm_impl.la
+if WITH_DRIVER_MODULES
+mod_LTLIBRARIES += libvirt_driver_openbsd_vmm.la
+libvirt_driver_openbsd_vmm_la_LIBADD += ../gnulib/lib/libgnu.la
+libvirt_driver_openbsd_vmm_la_LDFLAGS = -module -avoid-version $(AM_LDFLAGS)
+else ! WITH_DRIVER_MODULES
+noinst_LTLIBRARIES += libvirt_driver_openbsd_vmm.la
+endif ! WITH_DRIVER_MODULES
+
+libvirt_driver_openbsd_vmm_impl_la_CFLAGS = \
+	-I$(srcdir)/access \
+	-I$(srcdir)/conf \
+	$(AM_CFLAGS)
+libvirt_driver_openbsd_vmm_impl_la_LDFLAGS = $(AM_LDFLAGS)
+libvirt_driver_openbsd_vmm_impl_la_SOURCES = $(OPENBSD_VMM_DRIVER_SOURCES)
+endif WITH_OPENBSD_VMM
+
+
 if WITH_NETWORK
 noinst_LTLIBRARIES += libvirt_driver_network_impl.la
 libvirt_driver_network_la_SOURCES =
diff --git a/src/Makefile.in b/src/Makefile.in
index 37dfc26..0f9cfc2 100644
--- a/src/Makefile.in
+++ b/src/Makefile.in
@@ -178,73 +178,77 @@ host_triplet = @host@
 @WITH_BHYVE_TRUE@@WITH_DRIVER_MODULES_TRUE@am__append_74 = libvirt_driver_bhyve.la
 @WITH_BHYVE_TRUE@@WITH_DRIVER_MODULES_TRUE@am__append_75 = ../gnulib/lib/libgnu.la
 @WITH_BHYVE_TRUE@@WITH_DRIVER_MODULES_FALSE@am__append_76 = libvirt_driver_bhyve.la
-@WITH_NETWORK_TRUE@am__append_77 = libvirt_driver_network_impl.la
-@WITH_DRIVER_MODULES_TRUE@@WITH_NETWORK_TRUE@am__append_78 = libvirt_driver_network.la
-@WITH_DRIVER_MODULES_TRUE@@WITH_NETWORK_TRUE@am__append_79 = ../gnulib/lib/libgnu.la \
+@WITH_OPENBSD_VMM_TRUE@am__append_77 = libvirt_driver_openbsd_vmm_impl.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_OPENBSD_VMM_TRUE@am__append_78 = libvirt_driver_openbsd_vmm.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_OPENBSD_VMM_TRUE@am__append_79 = ../gnulib/lib/libgnu.la
+@WITH_DRIVER_MODULES_FALSE@@WITH_OPENBSD_VMM_TRUE@am__append_80 = libvirt_driver_openbsd_vmm.la
+@WITH_NETWORK_TRUE@am__append_81 = libvirt_driver_network_impl.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_NETWORK_TRUE@am__append_82 = libvirt_driver_network.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_NETWORK_TRUE@am__append_83 = ../gnulib/lib/libgnu.la \
 @WITH_DRIVER_MODULES_TRUE@@WITH_NETWORK_TRUE@	$(LIBNL_LIBS) \
 @WITH_DRIVER_MODULES_TRUE@@WITH_NETWORK_TRUE@	$(DBUS_LIBS) \
 @WITH_DRIVER_MODULES_TRUE@@WITH_NETWORK_TRUE@	$(NULL)
 
-@WITH_DRIVER_MODULES_FALSE@@WITH_NETWORK_TRUE@am__append_80 = libvirt_driver_network.la
-@WITH_DRIVER_MODULES_TRUE@@WITH_INTERFACE_TRUE@am__append_81 = libvirt_driver_interface.la
-@WITH_DRIVER_MODULES_FALSE@@WITH_INTERFACE_TRUE@am__append_82 = libvirt_driver_interface.la
-@WITH_INTERFACE_TRUE@@WITH_NETCF_TRUE@am__append_83 = $(NETCF_CFLAGS)
-@WITH_INTERFACE_TRUE@@WITH_NETCF_TRUE@am__append_84 = $(NETCF_LIBS)
-@WITH_INTERFACE_TRUE@@WITH_UDEV_TRUE@am__append_85 = $(UDEV_CFLAGS)
-@WITH_INTERFACE_TRUE@@WITH_UDEV_TRUE@am__append_86 = $(UDEV_LIBS)
-@WITH_DRIVER_MODULES_TRUE@@WITH_INTERFACE_TRUE@am__append_87 = ../gnulib/lib/libgnu.la
-@WITH_DRIVER_MODULES_TRUE@@WITH_INTERFACE_TRUE@am__append_88 = -module -avoid-version
-@WITH_DRIVER_MODULES_TRUE@@WITH_SECRETS_TRUE@am__append_89 = libvirt_driver_secret.la
-@WITH_DRIVER_MODULES_FALSE@@WITH_SECRETS_TRUE@am__append_90 = libvirt_driver_secret.la
-@WITH_BLKID_TRUE@am__append_91 = $(BLKID_CFLAGS)
-@WITH_BLKID_TRUE@am__append_92 = $(BLKID_LIBS)
-@WITH_STORAGE_TRUE@am__append_93 = libvirt_driver_storage_impl.la
-@WITH_DRIVER_MODULES_TRUE@@WITH_STORAGE_TRUE@am__append_94 = libvirt_driver_storage.la
-@WITH_DRIVER_MODULES_TRUE@@WITH_STORAGE_TRUE@am__append_95 = ../gnulib/lib/libgnu.la
-@WITH_DRIVER_MODULES_FALSE@@WITH_STORAGE_TRUE@am__append_96 = libvirt_driver_storage.la
+@WITH_DRIVER_MODULES_FALSE@@WITH_NETWORK_TRUE@am__append_84 = libvirt_driver_network.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_INTERFACE_TRUE@am__append_85 = libvirt_driver_interface.la
+@WITH_DRIVER_MODULES_FALSE@@WITH_INTERFACE_TRUE@am__append_86 = libvirt_driver_interface.la
+@WITH_INTERFACE_TRUE@@WITH_NETCF_TRUE@am__append_87 = $(NETCF_CFLAGS)
+@WITH_INTERFACE_TRUE@@WITH_NETCF_TRUE@am__append_88 = $(NETCF_LIBS)
+@WITH_INTERFACE_TRUE@@WITH_UDEV_TRUE@am__append_89 = $(UDEV_CFLAGS)
+@WITH_INTERFACE_TRUE@@WITH_UDEV_TRUE@am__append_90 = $(UDEV_LIBS)
+@WITH_DRIVER_MODULES_TRUE@@WITH_INTERFACE_TRUE@am__append_91 = ../gnulib/lib/libgnu.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_INTERFACE_TRUE@am__append_92 = -module -avoid-version
+@WITH_DRIVER_MODULES_TRUE@@WITH_SECRETS_TRUE@am__append_93 = libvirt_driver_secret.la
+@WITH_DRIVER_MODULES_FALSE@@WITH_SECRETS_TRUE@am__append_94 = libvirt_driver_secret.la
+@WITH_BLKID_TRUE@am__append_95 = $(BLKID_CFLAGS)
+@WITH_BLKID_TRUE@am__append_96 = $(BLKID_LIBS)
+@WITH_STORAGE_TRUE@am__append_97 = libvirt_driver_storage_impl.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_STORAGE_TRUE@am__append_98 = libvirt_driver_storage.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_STORAGE_TRUE@am__append_99 = ../gnulib/lib/libgnu.la
+@WITH_DRIVER_MODULES_FALSE@@WITH_STORAGE_TRUE@am__append_100 = libvirt_driver_storage.la
 # Stateful, so linked to daemon instead
 #libvirt_la_BUILT_LIBADD += libvirt_driver_storage.la
-@WITH_STORAGE_TRUE@am__append_97 = $(STORAGE_DRIVER_SOURCES) \
+@WITH_STORAGE_TRUE@am__append_101 = $(STORAGE_DRIVER_SOURCES) \
 @WITH_STORAGE_TRUE@	$(STORAGE_DRIVER_FS_SOURCES)
-@WITH_STORAGE_LVM_TRUE@am__append_98 = $(STORAGE_DRIVER_LVM_SOURCES)
-@WITH_STORAGE_ISCSI_TRUE@am__append_99 = $(STORAGE_DRIVER_ISCSI_SOURCES)
-@WITH_STORAGE_SCSI_TRUE@am__append_100 = $(STORAGE_DRIVER_SCSI_SOURCES)
-@WITH_STORAGE_MPATH_TRUE@am__append_101 = $(STORAGE_DRIVER_MPATH_SOURCES)
-@WITH_STORAGE_MPATH_TRUE@am__append_102 = $(DEVMAPPER_CFLAGS)
-@WITH_STORAGE_MPATH_TRUE@am__append_103 = $(DEVMAPPER_LIBS)
-@WITH_STORAGE_DISK_TRUE@am__append_104 = $(STORAGE_DRIVER_DISK_SOURCES)
-@WITH_STORAGE_RBD_TRUE@am__append_105 = $(STORAGE_DRIVER_RBD_SOURCES)
-@WITH_STORAGE_RBD_TRUE@am__append_106 = $(LIBRBD_LIBS)
-@WITH_STORAGE_SHEEPDOG_TRUE@am__append_107 = $(STORAGE_DRIVER_SHEEPDOG_SOURCES)
-@WITH_STORAGE_GLUSTER_TRUE@am__append_108 = $(STORAGE_DRIVER_GLUSTER_SOURCES)
-@WITH_STORAGE_GLUSTER_TRUE@am__append_109 = $(GLUSTERFS_CFLAGS)
-@WITH_STORAGE_GLUSTER_TRUE@am__append_110 = $(GLUSTERFS_LIBS)
-@WITH_STORAGE_ZFS_TRUE@am__append_111 = $(STORAGE_DRIVER_ZFS_SOURCES)
+@WITH_STORAGE_LVM_TRUE@am__append_102 = $(STORAGE_DRIVER_LVM_SOURCES)
+@WITH_STORAGE_ISCSI_TRUE@am__append_103 = $(STORAGE_DRIVER_ISCSI_SOURCES)
+@WITH_STORAGE_SCSI_TRUE@am__append_104 = $(STORAGE_DRIVER_SCSI_SOURCES)
+@WITH_STORAGE_MPATH_TRUE@am__append_105 = $(STORAGE_DRIVER_MPATH_SOURCES)
+@WITH_STORAGE_MPATH_TRUE@am__append_106 = $(DEVMAPPER_CFLAGS)
+@WITH_STORAGE_MPATH_TRUE@am__append_107 = $(DEVMAPPER_LIBS)
+@WITH_STORAGE_DISK_TRUE@am__append_108 = $(STORAGE_DRIVER_DISK_SOURCES)
+@WITH_STORAGE_RBD_TRUE@am__append_109 = $(STORAGE_DRIVER_RBD_SOURCES)
+@WITH_STORAGE_RBD_TRUE@am__append_110 = $(LIBRBD_LIBS)
+@WITH_STORAGE_SHEEPDOG_TRUE@am__append_111 = $(STORAGE_DRIVER_SHEEPDOG_SOURCES)
+@WITH_STORAGE_GLUSTER_TRUE@am__append_112 = $(STORAGE_DRIVER_GLUSTER_SOURCES)
+@WITH_STORAGE_GLUSTER_TRUE@am__append_113 = $(GLUSTERFS_CFLAGS)
+@WITH_STORAGE_GLUSTER_TRUE@am__append_114 = $(GLUSTERFS_LIBS)
+@WITH_STORAGE_ZFS_TRUE@am__append_115 = $(STORAGE_DRIVER_ZFS_SOURCES)
 
 # Needed to keep automake quiet about conditionals
-@WITH_DRIVER_MODULES_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_112 = libvirt_driver_nodedev.la
-@WITH_DRIVER_MODULES_FALSE@@WITH_NODE_DEVICES_TRUE@am__append_113 = libvirt_driver_nodedev.la
-@WITH_HAL_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_114 = $(NODE_DEVICE_DRIVER_HAL_SOURCES)
-@WITH_HAL_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_115 = $(HAL_CFLAGS)
-@WITH_HAL_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_116 = $(HAL_LIBS)
-@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@@WITH_UDEV_TRUE@am__append_117 = $(NODE_DEVICE_DRIVER_UDEV_SOURCES)
-@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@@WITH_UDEV_TRUE@am__append_118 = $(UDEV_CFLAGS) $(PCIACCESS_CFLAGS)
-@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@@WITH_UDEV_TRUE@am__append_119 = $(UDEV_LIBS) $(PCIACCESS_LIBS)
-@WITH_DRIVER_MODULES_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_120 = ../gnulib/lib/libgnu.la
-@WITH_DRIVER_MODULES_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_121 = -module -avoid-version
-@WITH_NWFILTER_TRUE@am__append_122 = libvirt_driver_nwfilter_impl.la
-@WITH_DRIVER_MODULES_TRUE@@WITH_NWFILTER_TRUE@am__append_123 = libvirt_driver_nwfilter.la
-@WITH_DRIVER_MODULES_FALSE@@WITH_NWFILTER_TRUE@am__append_124 = libvirt_driver_nwfilter.la
-@WITH_DRIVER_MODULES_TRUE@@WITH_NWFILTER_TRUE@am__append_125 = ../gnulib/lib/libgnu.la
-@WITH_DRIVER_MODULES_TRUE@@WITH_NWFILTER_TRUE@am__append_126 = -module -avoid-version
-@WITH_SECDRIVER_SELINUX_TRUE@am__append_127 = $(SECURITY_DRIVER_SELINUX_SOURCES)
-@WITH_SECDRIVER_SELINUX_TRUE@am__append_128 = $(SELINUX_CFLAGS)
-@WITH_SECDRIVER_APPARMOR_TRUE@am__append_129 = $(SECURITY_DRIVER_APPARMOR_SOURCES)
-@WITH_SECDRIVER_APPARMOR_TRUE@am__append_130 = $(APPARMOR_CFLAGS)
-@WITH_POLKIT1_TRUE@am__append_131 = $(ACCESS_DRIVER_POLKIT_SOURCES)
-@WITH_POLKIT1_TRUE@am__append_132 = $(ACCESS_DRIVER_POLKIT_POLICY)
-@WITH_POLKIT1_TRUE@am__append_133 = $(ACCESS_DRIVER_POLKIT_POLICY)
-@WITH_POLKIT1_FALSE@am__append_134 = $(ACCESS_DRIVER_POLKIT_SOURCES)
+@WITH_DRIVER_MODULES_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_116 = libvirt_driver_nodedev.la
+@WITH_DRIVER_MODULES_FALSE@@WITH_NODE_DEVICES_TRUE@am__append_117 = libvirt_driver_nodedev.la
+@WITH_HAL_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_118 = $(NODE_DEVICE_DRIVER_HAL_SOURCES)
+@WITH_HAL_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_119 = $(HAL_CFLAGS)
+@WITH_HAL_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_120 = $(HAL_LIBS)
+@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@@WITH_UDEV_TRUE@am__append_121 = $(NODE_DEVICE_DRIVER_UDEV_SOURCES)
+@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@@WITH_UDEV_TRUE@am__append_122 = $(UDEV_CFLAGS) $(PCIACCESS_CFLAGS)
+@WITH_LIBVIRTD_TRUE@@WITH_NODE_DEVICES_TRUE@@WITH_UDEV_TRUE@am__append_123 = $(UDEV_LIBS) $(PCIACCESS_LIBS)
+@WITH_DRIVER_MODULES_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_124 = ../gnulib/lib/libgnu.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_NODE_DEVICES_TRUE@am__append_125 = -module -avoid-version
+@WITH_NWFILTER_TRUE@am__append_126 = libvirt_driver_nwfilter_impl.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_NWFILTER_TRUE@am__append_127 = libvirt_driver_nwfilter.la
+@WITH_DRIVER_MODULES_FALSE@@WITH_NWFILTER_TRUE@am__append_128 = libvirt_driver_nwfilter.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_NWFILTER_TRUE@am__append_129 = ../gnulib/lib/libgnu.la
+@WITH_DRIVER_MODULES_TRUE@@WITH_NWFILTER_TRUE@am__append_130 = -module -avoid-version
+@WITH_SECDRIVER_SELINUX_TRUE@am__append_131 = $(SECURITY_DRIVER_SELINUX_SOURCES)
+@WITH_SECDRIVER_SELINUX_TRUE@am__append_132 = $(SELINUX_CFLAGS)
+@WITH_SECDRIVER_APPARMOR_TRUE@am__append_133 = $(SECURITY_DRIVER_APPARMOR_SOURCES)
+@WITH_SECDRIVER_APPARMOR_TRUE@am__append_134 = $(APPARMOR_CFLAGS)
+@WITH_POLKIT1_TRUE@am__append_135 = $(ACCESS_DRIVER_POLKIT_SOURCES)
+@WITH_POLKIT1_TRUE@am__append_136 = $(ACCESS_DRIVER_POLKIT_POLICY)
+@WITH_POLKIT1_TRUE@am__append_137 = $(ACCESS_DRIVER_POLKIT_POLICY)
+@WITH_POLKIT1_FALSE@am__append_138 = $(ACCESS_DRIVER_POLKIT_SOURCES)
 
 #
 # Build our version script.  This is composed of three parts:
@@ -264,39 +268,39 @@ host_triplet = @host@
 # except that build options (such as --enable-debug) can mean these
 # symbols aren't present at all.
 #
-@WITH_DRIVER_MODULES_TRUE@am__append_135 = $(srcdir)/libvirt_driver_modules.syms
-@WITH_DRIVER_MODULES_FALSE@am__append_136 = $(srcdir)/libvirt_driver_modules.syms
-@WITH_LINUX_TRUE@am__append_137 = $(srcdir)/libvirt_linux.syms
-@WITH_LINUX_FALSE@am__append_138 = $(srcdir)/libvirt_linux.syms
-@WITH_ESX_TRUE@am__append_139 = $(srcdir)/libvirt_esx.syms
-@WITH_ESX_FALSE@am__append_140 = $(srcdir)/libvirt_esx.syms
-@WITH_REMOTE_TRUE@am__append_141 = $(srcdir)/libvirt_remote.syms
-@WITH_REMOTE_FALSE@am__append_142 = $(srcdir)/libvirt_remote.syms
-@WITH_OPENVZ_TRUE@am__append_143 = $(srcdir)/libvirt_openvz.syms
-@WITH_OPENVZ_FALSE@am__append_144 = $(srcdir)/libvirt_openvz.syms
-@WITH_VMX_TRUE@am__append_145 = $(srcdir)/libvirt_vmx.syms
-@WITH_VMX_FALSE@am__append_146 = $(srcdir)/libvirt_vmx.syms
-@WITH_VMWARE_TRUE@am__append_147 = $(srcdir)/libvirt_vmware.syms
-@WITH_VMWARE_FALSE@am__append_148 = $(srcdir)/libvirt_vmware.syms
-@WITH_XENCONFIG_TRUE@am__append_149 = $(srcdir)/libvirt_xenconfig.syms
-@WITH_XENCONFIG_FALSE@am__append_150 = $(srcdir)/libvirt_xenconfig.syms
-@WITH_LIBXL_TRUE@am__append_151 = $(srcdir)/libvirt_xenxlconfig.syms
-@WITH_LIBXL_FALSE@am__append_152 = $(srcdir)/libvirt_xenxlconfig.syms
-@WITH_SASL_TRUE@am__append_153 = $(srcdir)/libvirt_sasl.syms
-@WITH_SASL_FALSE@am__append_154 = $(srcdir)/libvirt_sasl.syms
-@WITH_GNUTLS_TRUE@am__append_155 = $(srcdir)/libvirt_gnutls.syms
-@WITH_GNUTLS_FALSE@am__append_156 = $(srcdir)/libvirt_gnutls.syms
-@WITH_SSH2_TRUE@am__append_157 = $(srcdir)/libvirt_libssh2.syms
-@WITH_SSH2_FALSE@am__append_158 = $(srcdir)/libvirt_libssh2.syms
-@WITH_ATOMIC_OPS_PTHREAD_TRUE@am__append_159 = $(srcdir)/libvirt_atomic.syms
-@WITH_ATOMIC_OPS_PTHREAD_FALSE@am__append_160 = $(srcdir)/libvirt_atomic.syms
-@WITH_DTRACE_PROBES_TRUE@am__append_161 = libvirt_probes.lo
-@WITH_DTRACE_PROBES_TRUE@am__append_162 = libvirt_probes.lo
-@WITH_DTRACE_PROBES_TRUE@am__append_163 = libvirt_probes.lo libvirt_probes.o
-@WITH_DTRACE_PROBES_TRUE@am__append_164 = libvirt_probes.h libvirt_probes.stp libvirt_functions.stp
-@WITH_DTRACE_PROBES_TRUE@@WITH_QEMU_TRUE@am__append_165 = libvirt_qemu_probes.lo
-@WITH_DTRACE_PROBES_TRUE@@WITH_QEMU_TRUE@am__append_166 = libvirt_qemu_probes.h
-@WITH_DTRACE_PROBES_TRUE@am__append_167 = libvirt_probes.h libvirt_probes.o libvirt_probes.lo \
+@WITH_DRIVER_MODULES_TRUE@am__append_139 = $(srcdir)/libvirt_driver_modules.syms
+@WITH_DRIVER_MODULES_FALSE@am__append_140 = $(srcdir)/libvirt_driver_modules.syms
+@WITH_LINUX_TRUE@am__append_141 = $(srcdir)/libvirt_linux.syms
+@WITH_LINUX_FALSE@am__append_142 = $(srcdir)/libvirt_linux.syms
+@WITH_ESX_TRUE@am__append_143 = $(srcdir)/libvirt_esx.syms
+@WITH_ESX_FALSE@am__append_144 = $(srcdir)/libvirt_esx.syms
+@WITH_REMOTE_TRUE@am__append_145 = $(srcdir)/libvirt_remote.syms
+@WITH_REMOTE_FALSE@am__append_146 = $(srcdir)/libvirt_remote.syms
+@WITH_OPENVZ_TRUE@am__append_147 = $(srcdir)/libvirt_openvz.syms
+@WITH_OPENVZ_FALSE@am__append_148 = $(srcdir)/libvirt_openvz.syms
+@WITH_VMX_TRUE@am__append_149 = $(srcdir)/libvirt_vmx.syms
+@WITH_VMX_FALSE@am__append_150 = $(srcdir)/libvirt_vmx.syms
+@WITH_VMWARE_TRUE@am__append_151 = $(srcdir)/libvirt_vmware.syms
+@WITH_VMWARE_FALSE@am__append_152 = $(srcdir)/libvirt_vmware.syms
+@WITH_XENCONFIG_TRUE@am__append_153 = $(srcdir)/libvirt_xenconfig.syms
+@WITH_XENCONFIG_FALSE@am__append_154 = $(srcdir)/libvirt_xenconfig.syms
+@WITH_LIBXL_TRUE@am__append_155 = $(srcdir)/libvirt_xenxlconfig.syms
+@WITH_LIBXL_FALSE@am__append_156 = $(srcdir)/libvirt_xenxlconfig.syms
+@WITH_SASL_TRUE@am__append_157 = $(srcdir)/libvirt_sasl.syms
+@WITH_SASL_FALSE@am__append_158 = $(srcdir)/libvirt_sasl.syms
+@WITH_GNUTLS_TRUE@am__append_159 = $(srcdir)/libvirt_gnutls.syms
+@WITH_GNUTLS_FALSE@am__append_160 = $(srcdir)/libvirt_gnutls.syms
+@WITH_SSH2_TRUE@am__append_161 = $(srcdir)/libvirt_libssh2.syms
+@WITH_SSH2_FALSE@am__append_162 = $(srcdir)/libvirt_libssh2.syms
+@WITH_ATOMIC_OPS_PTHREAD_TRUE@am__append_163 = $(srcdir)/libvirt_atomic.syms
+@WITH_ATOMIC_OPS_PTHREAD_FALSE@am__append_164 = $(srcdir)/libvirt_atomic.syms
+@WITH_DTRACE_PROBES_TRUE@am__append_165 = libvirt_probes.lo
+@WITH_DTRACE_PROBES_TRUE@am__append_166 = libvirt_probes.lo
+@WITH_DTRACE_PROBES_TRUE@am__append_167 = libvirt_probes.lo libvirt_probes.o
+@WITH_DTRACE_PROBES_TRUE@am__append_168 = libvirt_probes.h libvirt_probes.stp libvirt_functions.stp
+@WITH_DTRACE_PROBES_TRUE@@WITH_QEMU_TRUE@am__append_169 = libvirt_qemu_probes.lo
+@WITH_DTRACE_PROBES_TRUE@@WITH_QEMU_TRUE@am__append_170 = libvirt_qemu_probes.h
+@WITH_DTRACE_PROBES_TRUE@am__append_171 = libvirt_probes.h libvirt_probes.o libvirt_probes.lo \
 @WITH_DTRACE_PROBES_TRUE@              libvirt_qemu_probes.h libvirt_qemu_probes.o \
 @WITH_DTRACE_PROBES_TRUE@              libvirt_qemu_probes.lo\
 @WITH_DTRACE_PROBES_TRUE@              libvirt_functions.stp libvirt_probes.stp \
@@ -310,82 +314,82 @@ host_triplet = @host@
 # have a RPC client for local UNIX socket access only. We use
 # the ../config-post.h header to disable all external deps that
 # we don't want
-@WITH_SETUID_RPC_CLIENT_TRUE@am__append_168 = libvirt-setuid-rpc-client.la
-@WITH_LIBVIRTD_TRUE@am__append_169 = lockd.la
-@WITH_LIBVIRTD_TRUE@am__append_170 = locking/libvirt_lockd.aug \
+@WITH_SETUID_RPC_CLIENT_TRUE@am__append_172 = libvirt-setuid-rpc-client.la
+@WITH_LIBVIRTD_TRUE@am__append_173 = lockd.la
+@WITH_LIBVIRTD_TRUE@am__append_174 = locking/libvirt_lockd.aug \
 @WITH_LIBVIRTD_TRUE@	locking/virtlockd.aug logging/virtlogd.aug
-@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@am__append_171 = libvirt_probes.lo
-@WITH_LIBVIRTD_TRUE@@WITH_QEMU_TRUE@am__append_172 = test_libvirt_lockd.aug
-@WITH_LIBVIRTD_TRUE@@WITH_QEMU_TRUE@am__append_173 = test_libvirt_lockd.aug
-@WITH_LIBVIRTD_TRUE@@WITH_QEMU_TRUE@am__append_174 = locking/qemu-lockd.conf
-@WITH_LIBVIRTD_TRUE@@WITH_QEMU_TRUE@am__append_175 = locking/qemu-lockd.conf
-@WITH_LIBVIRTD_TRUE@@WITH_QEMU_TRUE@am__append_176 = locking/qemu-lockd.conf
-@WITH_LIBVIRTD_TRUE@@WITH_LIBXL_TRUE@am__append_177 = locking/libxl-lockd.conf
-@WITH_LIBVIRTD_TRUE@@WITH_LIBXL_TRUE@am__append_178 = locking/libxl-lockd.conf
-@WITH_LIBVIRTD_TRUE@@WITH_LIBXL_TRUE@am__append_179 = locking/libxl-lockd.conf
+@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@am__append_175 = libvirt_probes.lo
+@WITH_LIBVIRTD_TRUE@@WITH_QEMU_TRUE@am__append_176 = test_libvirt_lockd.aug
+@WITH_LIBVIRTD_TRUE@@WITH_QEMU_TRUE@am__append_177 = test_libvirt_lockd.aug
+@WITH_LIBVIRTD_TRUE@@WITH_QEMU_TRUE@am__append_178 = locking/qemu-lockd.conf
+@WITH_LIBVIRTD_TRUE@@WITH_QEMU_TRUE@am__append_179 = locking/qemu-lockd.conf
+@WITH_LIBVIRTD_TRUE@@WITH_QEMU_TRUE@am__append_180 = locking/qemu-lockd.conf
+@WITH_LIBVIRTD_TRUE@@WITH_LIBXL_TRUE@am__append_181 = locking/libxl-lockd.conf
+@WITH_LIBVIRTD_TRUE@@WITH_LIBXL_TRUE@am__append_182 = locking/libxl-lockd.conf
+@WITH_LIBVIRTD_TRUE@@WITH_LIBXL_TRUE@am__append_183 = locking/libxl-lockd.conf
 @WITH_LIBVIRTD_TRUE@sbin_PROGRAMS = virtlockd$(EXEEXT) \
 @WITH_LIBVIRTD_TRUE@	virtlogd$(EXEEXT)
-@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@am__append_180 = libvirt_probes.lo
-@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@am__append_181 = libvirt_probes.lo
-@WITH_LIBVIRTD_FALSE@am__append_182 = $(LOCK_DAEMON_SOURCES) \
+@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@am__append_184 = libvirt_probes.lo
+@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@am__append_185 = libvirt_probes.lo
+@WITH_LIBVIRTD_FALSE@am__append_186 = $(LOCK_DAEMON_SOURCES) \
 @WITH_LIBVIRTD_FALSE@              $(LOCK_DRIVER_LOCKD_SOURCES) \
 @WITH_LIBVIRTD_FALSE@	      $(LOG_DAEMON_SOURCES)
 
-@LIBVIRT_INIT_SCRIPT_RED_HAT_TRUE@@WITH_LIBVIRTD_TRUE@am__append_183 = virtlockd.init virtlogd.init
-@LIBVIRT_INIT_SCRIPT_RED_HAT_TRUE@@WITH_LIBVIRTD_TRUE@am__append_184 = virtlockd.init virtlogd.init
-@WITH_LIBVIRTD_TRUE@am__append_185 = locking/virtlockd.conf logging/virtlogd.conf
-@WITH_LIBVIRTD_TRUE@am__append_186 = test_virtlockd.aug test_virtlogd.aug
-@LIBVIRT_INIT_SCRIPT_SYSTEMD_TRUE@@WITH_LIBVIRTD_TRUE@am__append_187 = virtlockd.service virtlockd.socket \
+@LIBVIRT_INIT_SCRIPT_RED_HAT_TRUE@@WITH_LIBVIRTD_TRUE@am__append_187 = virtlockd.init virtlogd.init
+@LIBVIRT_INIT_SCRIPT_RED_HAT_TRUE@@WITH_LIBVIRTD_TRUE@am__append_188 = virtlockd.init virtlogd.init
+@WITH_LIBVIRTD_TRUE@am__append_189 = locking/virtlockd.conf logging/virtlogd.conf
+@WITH_LIBVIRTD_TRUE@am__append_190 = test_virtlockd.aug test_virtlogd.aug
+@LIBVIRT_INIT_SCRIPT_SYSTEMD_TRUE@@WITH_LIBVIRTD_TRUE@am__append_191 = virtlockd.service virtlockd.socket \
 @LIBVIRT_INIT_SCRIPT_SYSTEMD_TRUE@@WITH_LIBVIRTD_TRUE@		 virtlogd.service virtlogd.socket
 
-@LIBVIRT_INIT_SCRIPT_SYSTEMD_TRUE@@WITH_LIBVIRTD_TRUE@am__append_188 = virtlockd.service virtlockd.socket \
+@LIBVIRT_INIT_SCRIPT_SYSTEMD_TRUE@@WITH_LIBVIRTD_TRUE@am__append_192 = virtlockd.service virtlockd.socket \
 @LIBVIRT_INIT_SCRIPT_SYSTEMD_TRUE@@WITH_LIBVIRTD_TRUE@		  virtlogd.service virtlogd.socket
 
-@WITH_SANLOCK_TRUE@am__append_189 = sanlock.la
-@WITH_SANLOCK_TRUE@am__append_190 = locking/libvirt_sanlock.aug
-@WITH_SANLOCK_TRUE@am__append_191 = test_libvirt_sanlock.aug
-@WITH_SANLOCK_TRUE@am__append_192 = test_libvirt_sanlock.aug
-@WITH_QEMU_TRUE@@WITH_SANLOCK_TRUE@am__append_193 = locking/qemu-sanlock.conf
-@WITH_QEMU_TRUE@@WITH_SANLOCK_TRUE@am__append_194 = locking/qemu-sanlock.conf
-@WITH_QEMU_TRUE@@WITH_SANLOCK_TRUE@am__append_195 = locking/qemu-sanlock.conf
-@WITH_LIBXL_TRUE@@WITH_SANLOCK_TRUE@am__append_196 = locking/libxl-sanlock.conf
-@WITH_LIBXL_TRUE@@WITH_SANLOCK_TRUE@am__append_197 = locking/libxl-sanlock.conf
-@WITH_LIBXL_TRUE@@WITH_SANLOCK_TRUE@am__append_198 = locking/libxl-sanlock.conf
-@WITH_SANLOCK_FALSE@am__append_199 = $(LOCK_DRIVER_SANLOCK_SOURCES)
-@WITH_SSH2_TRUE@am__append_200 = \
+@WITH_SANLOCK_TRUE@am__append_193 = sanlock.la
+@WITH_SANLOCK_TRUE@am__append_194 = locking/libvirt_sanlock.aug
+@WITH_SANLOCK_TRUE@am__append_195 = test_libvirt_sanlock.aug
+@WITH_SANLOCK_TRUE@am__append_196 = test_libvirt_sanlock.aug
+@WITH_QEMU_TRUE@@WITH_SANLOCK_TRUE@am__append_197 = locking/qemu-sanlock.conf
+@WITH_QEMU_TRUE@@WITH_SANLOCK_TRUE@am__append_198 = locking/qemu-sanlock.conf
+@WITH_QEMU_TRUE@@WITH_SANLOCK_TRUE@am__append_199 = locking/qemu-sanlock.conf
+@WITH_LIBXL_TRUE@@WITH_SANLOCK_TRUE@am__append_200 = locking/libxl-sanlock.conf
+@WITH_LIBXL_TRUE@@WITH_SANLOCK_TRUE@am__append_201 = locking/libxl-sanlock.conf
+@WITH_LIBXL_TRUE@@WITH_SANLOCK_TRUE@am__append_202 = locking/libxl-sanlock.conf
+@WITH_SANLOCK_FALSE@am__append_203 = $(LOCK_DRIVER_SANLOCK_SOURCES)
+@WITH_SSH2_TRUE@am__append_204 = \
 @WITH_SSH2_TRUE@	rpc/virnetsshsession.h rpc/virnetsshsession.c
 
-@WITH_SSH2_FALSE@am__append_201 = \
+@WITH_SSH2_FALSE@am__append_205 = \
 @WITH_SSH2_FALSE@	rpc/virnetsshsession.h rpc/virnetsshsession.c
 
-@WITH_GNUTLS_TRUE@am__append_202 = \
+@WITH_GNUTLS_TRUE@am__append_206 = \
 @WITH_GNUTLS_TRUE@	rpc/virnettlscontext.h rpc/virnettlscontext.c
 
-@WITH_GNUTLS_FALSE@am__append_203 = \
+@WITH_GNUTLS_FALSE@am__append_207 = \
 @WITH_GNUTLS_FALSE@	rpc/virnettlscontext.h rpc/virnettlscontext.c
 
-@WITH_SASL_TRUE@am__append_204 = \
+@WITH_SASL_TRUE@am__append_208 = \
 @WITH_SASL_TRUE@	rpc/virnetsaslcontext.h rpc/virnetsaslcontext.c
 
-@WITH_SASL_FALSE@am__append_205 = \
+@WITH_SASL_FALSE@am__append_209 = \
 @WITH_SASL_FALSE@	rpc/virnetsaslcontext.h rpc/virnetsaslcontext.c
 
 libexec_PROGRAMS = $(am__EXEEXT_1) $(am__EXEEXT_2) $(am__EXEEXT_3) \
 	$(am__EXEEXT_4) $(am__EXEEXT_5) $(am__EXEEXT_6)
-@WITH_LIBVIRTD_TRUE@am__append_206 = libvirt_iohelper
-@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@am__append_207 = libvirt_probes.lo
-@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@am__append_208 = libvirt_leaseshelper
-@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@am__append_209 = libvirt_probes.lo
-@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_FALSE@am__append_210 = $(NETWORK_LEASES_HELPER_SOURCES)
-@WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@am__append_211 = libvirt_parthelper
-@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@am__append_212 = libvirt_probes.lo
-@WITH_SANLOCK_TRUE@am__append_213 = libvirt_sanlock_helper
-@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@am__append_214 = libvirt_lxc
-@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@am__append_215 = libvirt_probes.lo
-@WITH_BLKID_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@am__append_216 = $(BLKID_CFLAGS)
-@WITH_BLKID_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@am__append_217 = $(BLKID_LIBS)
-@WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@am__append_218 = virt-aa-helper
-@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@am__append_219 = libvirt_probes.lo
+@WITH_LIBVIRTD_TRUE@am__append_210 = libvirt_iohelper
+@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@am__append_211 = libvirt_probes.lo
+@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@am__append_212 = libvirt_leaseshelper
+@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@am__append_213 = libvirt_probes.lo
+@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_FALSE@am__append_214 = $(NETWORK_LEASES_HELPER_SOURCES)
+@WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@am__append_215 = libvirt_parthelper
+@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@am__append_216 = libvirt_probes.lo
+@WITH_SANLOCK_TRUE@am__append_217 = libvirt_sanlock_helper
+@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@am__append_218 = libvirt_lxc
+@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@am__append_219 = libvirt_probes.lo
+@WITH_BLKID_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@am__append_220 = $(BLKID_CFLAGS)
+@WITH_BLKID_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@am__append_221 = $(BLKID_LIBS)
+@WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@am__append_222 = virt-aa-helper
+@WITH_DTRACE_PROBES_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@am__append_223 = libvirt_probes.lo
 subdir = src
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
@@ -527,6 +531,7 @@ am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
 	$(top_srcdir)/m4/virt-compile-warnings.m4 \
 	$(top_srcdir)/m4/virt-curl.m4 $(top_srcdir)/m4/virt-dbus.m4 \
 	$(top_srcdir)/m4/virt-driver-bhyve.m4 \
+	$(top_srcdir)/m4/virt-driver-openbsd-vmm.m4 \
 	$(top_srcdir)/m4/virt-driver-uml.m4 \
 	$(top_srcdir)/m4/virt-driver-vz.m4 \
 	$(top_srcdir)/m4/virt-fuse.m4 $(top_srcdir)/m4/virt-gluster.m4 \
@@ -603,7 +608,7 @@ libvirt_admin_la_DEPENDENCIES = libvirt.la $(am__DEPENDENCIES_1) \
 	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \
 	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \
 	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \
-	$(am__DEPENDENCIES_1) $(am__append_161)
+	$(am__DEPENDENCIES_1) $(am__append_165)
 am__dirstamp = $(am__leading_dot)dirstamp
 am__objects_1 = admin/libvirt_admin_la-admin_protocol.lo
 am__objects_2 = libvirt_admin_la-datatypes.lo
@@ -1005,7 +1010,7 @@ libvirt_driver_hyperv_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 @WITH_INTERFACE_TRUE@@WITH_UDEV_TRUE@	$(am__DEPENDENCIES_1)
 @WITH_INTERFACE_TRUE@libvirt_driver_interface_la_DEPENDENCIES =  \
 @WITH_INTERFACE_TRUE@	$(am__DEPENDENCIES_2) \
-@WITH_INTERFACE_TRUE@	$(am__DEPENDENCIES_3) $(am__append_87)
+@WITH_INTERFACE_TRUE@	$(am__DEPENDENCIES_3) $(am__append_91)
 am__libvirt_driver_interface_la_SOURCES_DIST =  \
 	interface/interface_driver.h interface/interface_driver.c \
 	interface/interface_backend_netcf.c \
@@ -1154,7 +1159,7 @@ libvirt_driver_network_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 @WITH_NODE_DEVICES_TRUE@libvirt_driver_nodedev_la_DEPENDENCIES =  \
 @WITH_NODE_DEVICES_TRUE@	$(am__DEPENDENCIES_9) \
 @WITH_NODE_DEVICES_TRUE@	$(am__DEPENDENCIES_10) \
-@WITH_NODE_DEVICES_TRUE@	$(am__append_120)
+@WITH_NODE_DEVICES_TRUE@	$(am__append_124)
 am__libvirt_driver_nodedev_la_SOURCES_DIST =  \
 	node_device/node_device_driver.c \
 	node_device/node_device_driver.h \
@@ -1199,7 +1204,7 @@ libvirt_driver_nwfilter_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 @WITH_NWFILTER_TRUE@libvirt_driver_nwfilter_impl_la_DEPENDENCIES =  \
 @WITH_NWFILTER_TRUE@	$(am__DEPENDENCIES_1) \
 @WITH_NWFILTER_TRUE@	$(am__DEPENDENCIES_1) \
-@WITH_NWFILTER_TRUE@	$(am__DEPENDENCIES_1) $(am__append_125)
+@WITH_NWFILTER_TRUE@	$(am__DEPENDENCIES_1) $(am__append_129)
 am__libvirt_driver_nwfilter_impl_la_SOURCES_DIST =  \
 	nwfilter/nwfilter_driver.h nwfilter/nwfilter_driver.c \
 	nwfilter/nwfilter_tech_driver.h \
@@ -1225,16 +1230,43 @@ libvirt_driver_nwfilter_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(libvirt_driver_nwfilter_impl_la_CFLAGS) $(CFLAGS) \
 	$(libvirt_driver_nwfilter_impl_la_LDFLAGS) $(LDFLAGS) -o $@
 @WITH_NWFILTER_TRUE@am_libvirt_driver_nwfilter_impl_la_rpath =
+@WITH_OPENBSD_VMM_TRUE@libvirt_driver_openbsd_vmm_la_DEPENDENCIES =  \
+@WITH_OPENBSD_VMM_TRUE@	libvirt_driver_openbsd_vmm_impl.la \
+@WITH_OPENBSD_VMM_TRUE@	$(am__append_79)
+am_libvirt_driver_openbsd_vmm_la_OBJECTS =
+libvirt_driver_openbsd_vmm_la_OBJECTS =  \
+	$(am_libvirt_driver_openbsd_vmm_la_OBJECTS)
+libvirt_driver_openbsd_vmm_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
+	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
+	$(AM_CFLAGS) $(CFLAGS) \
+	$(libvirt_driver_openbsd_vmm_la_LDFLAGS) $(LDFLAGS) -o $@
+@WITH_DRIVER_MODULES_FALSE@@WITH_OPENBSD_VMM_TRUE@am_libvirt_driver_openbsd_vmm_la_rpath =
+@WITH_DRIVER_MODULES_TRUE@@WITH_OPENBSD_VMM_TRUE@am_libvirt_driver_openbsd_vmm_la_rpath =  \
+@WITH_DRIVER_MODULES_TRUE@@WITH_OPENBSD_VMM_TRUE@	-rpath \
+@WITH_DRIVER_MODULES_TRUE@@WITH_OPENBSD_VMM_TRUE@	$(moddir)
+libvirt_driver_openbsd_vmm_impl_la_LIBADD =
+am__libvirt_driver_openbsd_vmm_impl_la_SOURCES_DIST =  \
+	openbsd/openbsd_vmm_driver.c openbsd/openbsd_vmm_driver.h
+am__objects_51 = openbsd/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.lo
+@WITH_OPENBSD_VMM_TRUE@am_libvirt_driver_openbsd_vmm_impl_la_OBJECTS =  \
+@WITH_OPENBSD_VMM_TRUE@	$(am__objects_51)
+libvirt_driver_openbsd_vmm_impl_la_OBJECTS =  \
+	$(am_libvirt_driver_openbsd_vmm_impl_la_OBJECTS)
+libvirt_driver_openbsd_vmm_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) \
+	--tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link \
+	$(CCLD) $(libvirt_driver_openbsd_vmm_impl_la_CFLAGS) $(CFLAGS) \
+	$(libvirt_driver_openbsd_vmm_impl_la_LDFLAGS) $(LDFLAGS) -o $@
+@WITH_OPENBSD_VMM_TRUE@am_libvirt_driver_openbsd_vmm_impl_la_rpath =
 libvirt_driver_openvz_la_LIBADD =
 am__libvirt_driver_openvz_la_SOURCES_DIST = openvz/openvz_conf.c \
 	openvz/openvz_conf.h openvz/openvz_driver.c \
 	openvz/openvz_driver.h openvz/openvz_util.c \
 	openvz/openvz_util.h
-am__objects_51 = openvz/libvirt_driver_openvz_la-openvz_conf.lo \
+am__objects_52 = openvz/libvirt_driver_openvz_la-openvz_conf.lo \
 	openvz/libvirt_driver_openvz_la-openvz_driver.lo \
 	openvz/libvirt_driver_openvz_la-openvz_util.lo
 @WITH_OPENVZ_TRUE@am_libvirt_driver_openvz_la_OBJECTS =  \
-@WITH_OPENVZ_TRUE@	$(am__objects_51)
+@WITH_OPENVZ_TRUE@	$(am__objects_52)
 libvirt_driver_openvz_la_OBJECTS =  \
 	$(am_libvirt_driver_openvz_la_OBJECTS)
 libvirt_driver_openvz_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1246,8 +1278,8 @@ libvirt_driver_openvz_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 @WITH_PHYP_TRUE@	$(am__DEPENDENCIES_1)
 am__libvirt_driver_phyp_la_SOURCES_DIST = phyp/phyp_driver.c \
 	phyp/phyp_driver.h
-am__objects_52 = phyp/libvirt_driver_phyp_la-phyp_driver.lo
-@WITH_PHYP_TRUE@am_libvirt_driver_phyp_la_OBJECTS = $(am__objects_52)
+am__objects_53 = phyp/libvirt_driver_phyp_la-phyp_driver.lo
+@WITH_PHYP_TRUE@am_libvirt_driver_phyp_la_OBJECTS = $(am__objects_53)
 libvirt_driver_phyp_la_OBJECTS = $(am_libvirt_driver_phyp_la_OBJECTS)
 libvirt_driver_phyp_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
@@ -1256,7 +1288,7 @@ libvirt_driver_phyp_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 @WITH_PHYP_TRUE@am_libvirt_driver_phyp_la_rpath =
 @WITH_QEMU_TRUE@libvirt_driver_qemu_la_DEPENDENCIES =  \
 @WITH_QEMU_TRUE@	libvirt_driver_qemu_impl.la $(am__append_45) \
-@WITH_QEMU_TRUE@	$(am__append_165)
+@WITH_QEMU_TRUE@	$(am__append_169)
 am_libvirt_driver_qemu_la_OBJECTS =
 nodist_libvirt_driver_qemu_la_OBJECTS =
 libvirt_driver_qemu_la_OBJECTS = $(am_libvirt_driver_qemu_la_OBJECTS) \
@@ -1290,7 +1322,7 @@ am__libvirt_driver_qemu_impl_la_SOURCES_DIST = qemu/qemu_agent.c \
 	qemu/qemu_monitor_json.c qemu/qemu_monitor_json.h \
 	qemu/qemu_driver.c qemu/qemu_driver.h qemu/qemu_interface.c \
 	qemu/qemu_interface.h qemu/qemu_capspriv.h
-am__objects_53 = qemu/libvirt_driver_qemu_impl_la-qemu_agent.lo \
+am__objects_54 = qemu/libvirt_driver_qemu_impl_la-qemu_agent.lo \
 	qemu/libvirt_driver_qemu_impl_la-qemu_alias.lo \
 	qemu/libvirt_driver_qemu_impl_la-qemu_blockjob.lo \
 	qemu/libvirt_driver_qemu_impl_la-qemu_capabilities.lo \
@@ -1310,7 +1342,7 @@ am__objects_53 = qemu/libvirt_driver_qemu_impl_la-qemu_agent.lo \
 	qemu/libvirt_driver_qemu_impl_la-qemu_driver.lo \
 	qemu/libvirt_driver_qemu_impl_la-qemu_interface.lo
 @WITH_QEMU_TRUE@am_libvirt_driver_qemu_impl_la_OBJECTS =  \
-@WITH_QEMU_TRUE@	$(am__objects_53)
+@WITH_QEMU_TRUE@	$(am__objects_54)
 libvirt_driver_qemu_impl_la_OBJECTS =  \
 	$(am_libvirt_driver_qemu_impl_la_OBJECTS)
 libvirt_driver_qemu_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1328,13 +1360,13 @@ am__libvirt_driver_remote_la_SOURCES_DIST = remote/remote_driver.c \
 	remote/lxc_protocol.c remote/lxc_protocol.h \
 	remote/lxc_client_bodies.h remote/qemu_protocol.c \
 	remote/qemu_protocol.h remote/qemu_client_bodies.h
-am__objects_54 = remote/libvirt_driver_remote_la-remote_protocol.lo \
+am__objects_55 = remote/libvirt_driver_remote_la-remote_protocol.lo \
 	remote/libvirt_driver_remote_la-lxc_protocol.lo \
 	remote/libvirt_driver_remote_la-qemu_protocol.lo
-am__objects_55 = remote/libvirt_driver_remote_la-remote_driver.lo \
-	$(am__objects_54)
+am__objects_56 = remote/libvirt_driver_remote_la-remote_driver.lo \
+	$(am__objects_55)
 @WITH_REMOTE_TRUE@am_libvirt_driver_remote_la_OBJECTS =  \
-@WITH_REMOTE_TRUE@	$(am__objects_55)
+@WITH_REMOTE_TRUE@	$(am__objects_56)
 nodist_libvirt_driver_remote_la_OBJECTS =
 libvirt_driver_remote_la_OBJECTS =  \
 	$(am_libvirt_driver_remote_la_OBJECTS) \
@@ -1347,9 +1379,9 @@ libvirt_driver_remote_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 @WITH_DRIVER_MODULES_TRUE@@WITH_SECRETS_TRUE@libvirt_driver_secret_la_DEPENDENCIES = ../gnulib/lib/libgnu.la
 am__libvirt_driver_secret_la_SOURCES_DIST = secret/secret_driver.h \
 	secret/secret_driver.c
-am__objects_56 = secret/libvirt_driver_secret_la-secret_driver.lo
+am__objects_57 = secret/libvirt_driver_secret_la-secret_driver.lo
 @WITH_SECRETS_TRUE@am_libvirt_driver_secret_la_OBJECTS =  \
-@WITH_SECRETS_TRUE@	$(am__objects_56)
+@WITH_SECRETS_TRUE@	$(am__objects_57)
 libvirt_driver_secret_la_OBJECTS =  \
 	$(am_libvirt_driver_secret_la_OBJECTS)
 libvirt_driver_secret_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1361,7 +1393,7 @@ libvirt_driver_secret_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 @WITH_DRIVER_MODULES_TRUE@@WITH_SECRETS_TRUE@	-rpath $(moddir)
 @WITH_STORAGE_TRUE@libvirt_driver_storage_la_DEPENDENCIES =  \
 @WITH_STORAGE_TRUE@	libvirt_driver_storage_impl.la \
-@WITH_STORAGE_TRUE@	$(am__append_95)
+@WITH_STORAGE_TRUE@	$(am__append_99)
 am_libvirt_driver_storage_la_OBJECTS =
 libvirt_driver_storage_la_OBJECTS =  \
 	$(am_libvirt_driver_storage_la_OBJECTS)
@@ -1398,37 +1430,37 @@ am__libvirt_driver_storage_impl_la_SOURCES_DIST =  \
 	storage/storage_backend_gluster.h \
 	storage/storage_backend_gluster.c \
 	storage/storage_backend_zfs.h storage/storage_backend_zfs.c
-am__objects_57 =  \
+am__objects_58 =  \
 	storage/libvirt_driver_storage_impl_la-storage_driver.lo \
 	storage/libvirt_driver_storage_impl_la-storage_backend.lo
-am__objects_58 =  \
+am__objects_59 =  \
 	storage/libvirt_driver_storage_impl_la-storage_backend_fs.lo
-@WITH_STORAGE_TRUE@am__objects_59 = $(am__objects_57) \
-@WITH_STORAGE_TRUE@	$(am__objects_58)
-am__objects_60 = storage/libvirt_driver_storage_impl_la-storage_backend_logical.lo
-@WITH_STORAGE_LVM_TRUE@am__objects_61 = $(am__objects_60)
-am__objects_62 = storage/libvirt_driver_storage_impl_la-storage_backend_iscsi.lo
-@WITH_STORAGE_ISCSI_TRUE@am__objects_63 = $(am__objects_62)
-am__objects_64 = storage/libvirt_driver_storage_impl_la-storage_backend_scsi.lo
-@WITH_STORAGE_SCSI_TRUE@am__objects_65 = $(am__objects_64)
-am__objects_66 = storage/libvirt_driver_storage_impl_la-storage_backend_mpath.lo
-@WITH_STORAGE_MPATH_TRUE@am__objects_67 = $(am__objects_66)
-am__objects_68 = storage/libvirt_driver_storage_impl_la-storage_backend_disk.lo
-@WITH_STORAGE_DISK_TRUE@am__objects_69 = $(am__objects_68)
-am__objects_70 =  \
+@WITH_STORAGE_TRUE@am__objects_60 = $(am__objects_58) \
+@WITH_STORAGE_TRUE@	$(am__objects_59)
+am__objects_61 = storage/libvirt_driver_storage_impl_la-storage_backend_logical.lo
+@WITH_STORAGE_LVM_TRUE@am__objects_62 = $(am__objects_61)
+am__objects_63 = storage/libvirt_driver_storage_impl_la-storage_backend_iscsi.lo
+@WITH_STORAGE_ISCSI_TRUE@am__objects_64 = $(am__objects_63)
+am__objects_65 = storage/libvirt_driver_storage_impl_la-storage_backend_scsi.lo
+@WITH_STORAGE_SCSI_TRUE@am__objects_66 = $(am__objects_65)
+am__objects_67 = storage/libvirt_driver_storage_impl_la-storage_backend_mpath.lo
+@WITH_STORAGE_MPATH_TRUE@am__objects_68 = $(am__objects_67)
+am__objects_69 = storage/libvirt_driver_storage_impl_la-storage_backend_disk.lo
+@WITH_STORAGE_DISK_TRUE@am__objects_70 = $(am__objects_69)
+am__objects_71 =  \
 	storage/libvirt_driver_storage_impl_la-storage_backend_rbd.lo
-@WITH_STORAGE_RBD_TRUE@am__objects_71 = $(am__objects_70)
-am__objects_72 = storage/libvirt_driver_storage_impl_la-storage_backend_sheepdog.lo
-@WITH_STORAGE_SHEEPDOG_TRUE@am__objects_73 = $(am__objects_72)
-am__objects_74 = storage/libvirt_driver_storage_impl_la-storage_backend_gluster.lo
-@WITH_STORAGE_GLUSTER_TRUE@am__objects_75 = $(am__objects_74)
-am__objects_76 =  \
+@WITH_STORAGE_RBD_TRUE@am__objects_72 = $(am__objects_71)
+am__objects_73 = storage/libvirt_driver_storage_impl_la-storage_backend_sheepdog.lo
+@WITH_STORAGE_SHEEPDOG_TRUE@am__objects_74 = $(am__objects_73)
+am__objects_75 = storage/libvirt_driver_storage_impl_la-storage_backend_gluster.lo
+@WITH_STORAGE_GLUSTER_TRUE@am__objects_76 = $(am__objects_75)
+am__objects_77 =  \
 	storage/libvirt_driver_storage_impl_la-storage_backend_zfs.lo
-@WITH_STORAGE_ZFS_TRUE@am__objects_77 = $(am__objects_76)
-am_libvirt_driver_storage_impl_la_OBJECTS = $(am__objects_59) \
-	$(am__objects_61) $(am__objects_63) $(am__objects_65) \
-	$(am__objects_67) $(am__objects_69) $(am__objects_71) \
-	$(am__objects_73) $(am__objects_75) $(am__objects_77)
+@WITH_STORAGE_ZFS_TRUE@am__objects_78 = $(am__objects_77)
+am_libvirt_driver_storage_impl_la_OBJECTS = $(am__objects_60) \
+	$(am__objects_62) $(am__objects_64) $(am__objects_66) \
+	$(am__objects_68) $(am__objects_70) $(am__objects_72) \
+	$(am__objects_74) $(am__objects_76) $(am__objects_78)
 libvirt_driver_storage_impl_la_OBJECTS =  \
 	$(am_libvirt_driver_storage_impl_la_OBJECTS)
 libvirt_driver_storage_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1439,8 +1471,8 @@ libvirt_driver_storage_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 libvirt_driver_test_la_LIBADD =
 am__libvirt_driver_test_la_SOURCES_DIST = test/test_driver.c \
 	test/test_driver.h
-am__objects_78 = test/libvirt_driver_test_la-test_driver.lo
-@WITH_TEST_TRUE@am_libvirt_driver_test_la_OBJECTS = $(am__objects_78)
+am__objects_79 = test/libvirt_driver_test_la-test_driver.lo
+@WITH_TEST_TRUE@am_libvirt_driver_test_la_OBJECTS = $(am__objects_79)
 libvirt_driver_test_la_OBJECTS = $(am_libvirt_driver_test_la_OBJECTS)
 libvirt_driver_test_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
@@ -1461,10 +1493,10 @@ libvirt_driver_uml_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 libvirt_driver_uml_impl_la_LIBADD =
 am__libvirt_driver_uml_impl_la_SOURCES_DIST = uml/uml_conf.c \
 	uml/uml_conf.h uml/uml_driver.c uml/uml_driver.h
-am__objects_79 = uml/libvirt_driver_uml_impl_la-uml_conf.lo \
+am__objects_80 = uml/libvirt_driver_uml_impl_la-uml_conf.lo \
 	uml/libvirt_driver_uml_impl_la-uml_driver.lo
 @WITH_UML_TRUE@am_libvirt_driver_uml_impl_la_OBJECTS =  \
-@WITH_UML_TRUE@	$(am__objects_79)
+@WITH_UML_TRUE@	$(am__objects_80)
 libvirt_driver_uml_impl_la_OBJECTS =  \
 	$(am_libvirt_driver_uml_impl_la_OBJECTS)
 libvirt_driver_uml_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1500,7 +1532,7 @@ am__libvirt_driver_vbox_impl_la_SOURCES_DIST = vbox/vbox_glue.c \
 	vbox/vbox_common.c vbox/vbox_common.h \
 	vbox/vbox_uniformed_api.h vbox/vbox_get_driver.h \
 	vbox/vbox_network.c vbox/vbox_storage.c
-am__objects_80 = vbox/libvirt_driver_vbox_impl_la-vbox_glue.lo \
+am__objects_81 = vbox/libvirt_driver_vbox_impl_la-vbox_glue.lo \
 	vbox/libvirt_driver_vbox_impl_la-vbox_driver.lo \
 	vbox/libvirt_driver_vbox_impl_la-vbox_snapshot_conf.lo \
 	vbox/libvirt_driver_vbox_impl_la-vbox_V2_2.lo \
@@ -1518,7 +1550,7 @@ am__objects_80 = vbox/libvirt_driver_vbox_impl_la-vbox_glue.lo \
 	vbox/libvirt_driver_vbox_impl_la-vbox_network.lo \
 	vbox/libvirt_driver_vbox_impl_la-vbox_storage.lo
 @WITH_VBOX_TRUE@am_libvirt_driver_vbox_impl_la_OBJECTS =  \
-@WITH_VBOX_TRUE@	$(am__objects_80)
+@WITH_VBOX_TRUE@	$(am__objects_81)
 libvirt_driver_vbox_impl_la_OBJECTS =  \
 	$(am_libvirt_driver_vbox_impl_la_OBJECTS)
 libvirt_driver_vbox_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1530,10 +1562,10 @@ libvirt_driver_vmware_la_LIBADD =
 am__libvirt_driver_vmware_la_SOURCES_DIST = vmware/vmware_driver.c \
 	vmware/vmware_driver.h vmware/vmware_conf.c \
 	vmware/vmware_conf.h
-am__objects_81 = vmware/libvirt_driver_vmware_la-vmware_driver.lo \
+am__objects_82 = vmware/libvirt_driver_vmware_la-vmware_driver.lo \
 	vmware/libvirt_driver_vmware_la-vmware_conf.lo
 @WITH_VMWARE_TRUE@am_libvirt_driver_vmware_la_OBJECTS =  \
-@WITH_VMWARE_TRUE@	$(am__objects_81)
+@WITH_VMWARE_TRUE@	$(am__objects_82)
 libvirt_driver_vmware_la_OBJECTS =  \
 	$(am_libvirt_driver_vmware_la_OBJECTS)
 libvirt_driver_vmware_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1557,11 +1589,11 @@ libvirt_driver_vz_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 am__libvirt_driver_vz_impl_la_SOURCES_DIST = vz/vz_driver.h \
 	vz/vz_driver.c vz/vz_utils.c vz/vz_utils.h vz/vz_sdk.h \
 	vz/vz_sdk.c
-am__objects_82 = vz/libvirt_driver_vz_impl_la-vz_driver.lo \
+am__objects_83 = vz/libvirt_driver_vz_impl_la-vz_driver.lo \
 	vz/libvirt_driver_vz_impl_la-vz_utils.lo \
 	vz/libvirt_driver_vz_impl_la-vz_sdk.lo
 @WITH_VZ_TRUE@am_libvirt_driver_vz_impl_la_OBJECTS =  \
-@WITH_VZ_TRUE@	$(am__objects_82)
+@WITH_VZ_TRUE@	$(am__objects_83)
 libvirt_driver_vz_impl_la_OBJECTS =  \
 	$(am_libvirt_driver_vz_impl_la_OBJECTS)
 libvirt_driver_vz_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1588,16 +1620,16 @@ am__libvirt_driver_xen_impl_la_SOURCES_DIST = xen/block_stats.c \
 	xen/xend_internal.h xen/xm_internal.c xen/xm_internal.h \
 	xen/xs_internal.c xen/xs_internal.h xen/xen_inotify.c \
 	xen/xen_inotify.h
-@WITH_XEN_INOTIFY_TRUE@am__objects_83 = xen/libvirt_driver_xen_impl_la-xen_inotify.lo
-am__objects_84 = xen/libvirt_driver_xen_impl_la-block_stats.lo \
+@WITH_XEN_INOTIFY_TRUE@am__objects_84 = xen/libvirt_driver_xen_impl_la-xen_inotify.lo
+am__objects_85 = xen/libvirt_driver_xen_impl_la-block_stats.lo \
 	xen/libvirt_driver_xen_impl_la-xen_hypervisor.lo \
 	xen/libvirt_driver_xen_impl_la-xen_driver.lo \
 	xen/libvirt_driver_xen_impl_la-xend_internal.lo \
 	xen/libvirt_driver_xen_impl_la-xm_internal.lo \
 	xen/libvirt_driver_xen_impl_la-xs_internal.lo \
-	$(am__objects_83)
+	$(am__objects_84)
 @WITH_XEN_TRUE@am_libvirt_driver_xen_impl_la_OBJECTS =  \
-@WITH_XEN_TRUE@	$(am__objects_84)
+@WITH_XEN_TRUE@	$(am__objects_85)
 libvirt_driver_xen_impl_la_OBJECTS =  \
 	$(am_libvirt_driver_xen_impl_la_OBJECTS)
 libvirt_driver_xen_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1610,10 +1642,10 @@ libvirt_driver_xen_impl_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 am__libvirt_driver_xenapi_la_SOURCES_DIST = xenapi/xenapi_driver.c \
 	xenapi/xenapi_driver.h xenapi/xenapi_driver_private.h \
 	xenapi/xenapi_utils.c xenapi/xenapi_utils.h
-am__objects_85 = xenapi/libvirt_driver_xenapi_la-xenapi_driver.lo \
+am__objects_86 = xenapi/libvirt_driver_xenapi_la-xenapi_driver.lo \
 	xenapi/libvirt_driver_xenapi_la-xenapi_utils.lo
 @WITH_XENAPI_TRUE@am_libvirt_driver_xenapi_la_OBJECTS =  \
-@WITH_XENAPI_TRUE@	$(am__objects_85)
+@WITH_XENAPI_TRUE@	$(am__objects_86)
 libvirt_driver_xenapi_la_OBJECTS =  \
 	$(am_libvirt_driver_xenapi_la_OBJECTS)
 libvirt_driver_xenapi_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1622,8 +1654,8 @@ libvirt_driver_xenapi_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(libvirt_driver_xenapi_la_LDFLAGS) $(LDFLAGS) -o $@
 @WITH_XENAPI_TRUE@am_libvirt_driver_xenapi_la_rpath =
 libvirt_secret_la_LIBADD =
-am__objects_86 = secret/libvirt_secret_la-secret_util.lo
-am_libvirt_secret_la_OBJECTS = $(am__objects_86)
+am__objects_87 = secret/libvirt_secret_la-secret_util.lo
+am_libvirt_secret_la_OBJECTS = $(am__objects_87)
 libvirt_secret_la_OBJECTS = $(am_libvirt_secret_la_OBJECTS)
 libvirt_secret_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
@@ -1638,20 +1670,20 @@ am__libvirt_security_manager_la_SOURCES_DIST =  \
 	security/security_manager.h security/security_manager.c \
 	security/security_selinux.h security/security_selinux.c \
 	security/security_apparmor.h security/security_apparmor.c
-am__objects_87 =  \
+am__objects_88 =  \
 	security/libvirt_security_manager_la-security_driver.lo \
 	security/libvirt_security_manager_la-security_nop.lo \
 	security/libvirt_security_manager_la-security_stack.lo \
 	security/libvirt_security_manager_la-security_dac.lo \
 	security/libvirt_security_manager_la-security_manager.lo
-am__objects_88 =  \
+am__objects_89 =  \
 	security/libvirt_security_manager_la-security_selinux.lo
-@WITH_SECDRIVER_SELINUX_TRUE@am__objects_89 = $(am__objects_88)
-am__objects_90 =  \
+@WITH_SECDRIVER_SELINUX_TRUE@am__objects_90 = $(am__objects_89)
+am__objects_91 =  \
 	security/libvirt_security_manager_la-security_apparmor.lo
-@WITH_SECDRIVER_APPARMOR_TRUE@am__objects_91 = $(am__objects_90)
-am_libvirt_security_manager_la_OBJECTS = $(am__objects_87) \
-	$(am__objects_89) $(am__objects_91)
+@WITH_SECDRIVER_APPARMOR_TRUE@am__objects_92 = $(am__objects_91)
+am_libvirt_security_manager_la_OBJECTS = $(am__objects_88) \
+	$(am__objects_90) $(am__objects_92)
 libvirt_security_manager_la_OBJECTS =  \
 	$(am_libvirt_security_manager_la_OBJECTS)
 libvirt_security_manager_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1666,7 +1698,7 @@ libvirt_util_la_DEPENDENCIES = $(am__DEPENDENCIES_1) \
 	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \
 	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_7) \
 	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1)
-am__objects_92 = util/libvirt_util_la-viralloc.lo \
+am__objects_93 = util/libvirt_util_la-viralloc.lo \
 	util/libvirt_util_la-virarch.lo \
 	util/libvirt_util_la-viratomic.lo \
 	util/libvirt_util_la-viraudit.lo \
@@ -1750,7 +1782,7 @@ am__objects_92 = util/libvirt_util_la-viralloc.lo \
 	util/libvirt_util_la-virusb.lo util/libvirt_util_la-viruri.lo \
 	util/libvirt_util_la-virutil.lo \
 	util/libvirt_util_la-viruuid.lo util/libvirt_util_la-virxml.lo
-am_libvirt_util_la_OBJECTS = $(am__objects_92)
+am_libvirt_util_la_OBJECTS = $(am__objects_93)
 libvirt_util_la_OBJECTS = $(am_libvirt_util_la_OBJECTS)
 libvirt_util_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
@@ -1758,8 +1790,8 @@ libvirt_util_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	-o $@
 libvirt_vmx_la_LIBADD =
 am__libvirt_vmx_la_SOURCES_DIST = vmx/vmx.c vmx/vmx.h
-am__objects_93 = vmx/libvirt_vmx_la-vmx.lo
-@WITH_VMX_TRUE@am_libvirt_vmx_la_OBJECTS = $(am__objects_93)
+am__objects_94 = vmx/libvirt_vmx_la-vmx.lo
+@WITH_VMX_TRUE@am_libvirt_vmx_la_OBJECTS = $(am__objects_94)
 libvirt_vmx_la_OBJECTS = $(am_libvirt_vmx_la_OBJECTS)
 libvirt_vmx_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
@@ -1772,13 +1804,13 @@ am__libvirt_xenconfig_la_SOURCES_DIST = xenconfig/xenxs_private.h \
 	xenconfig/xen_common.c xenconfig/xen_common.h \
 	xenconfig/xen_sxpr.c xenconfig/xen_sxpr.h xenconfig/xen_xm.c \
 	xenconfig/xen_xm.h xenconfig/xen_xl.c xenconfig/xen_xl.h
-@WITH_LIBXL_TRUE@am__objects_94 =  \
+@WITH_LIBXL_TRUE@am__objects_95 =  \
 @WITH_LIBXL_TRUE@	xenconfig/libvirt_xenconfig_la-xen_xl.lo
-am__objects_95 = xenconfig/libvirt_xenconfig_la-xen_common.lo \
+am__objects_96 = xenconfig/libvirt_xenconfig_la-xen_common.lo \
 	xenconfig/libvirt_xenconfig_la-xen_sxpr.lo \
-	xenconfig/libvirt_xenconfig_la-xen_xm.lo $(am__objects_94)
+	xenconfig/libvirt_xenconfig_la-xen_xm.lo $(am__objects_95)
 @WITH_XENCONFIG_TRUE@am_libvirt_xenconfig_la_OBJECTS =  \
-@WITH_XENCONFIG_TRUE@	$(am__objects_95)
+@WITH_XENCONFIG_TRUE@	$(am__objects_96)
 libvirt_xenconfig_la_OBJECTS = $(am_libvirt_xenconfig_la_OBJECTS)
 libvirt_xenconfig_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
@@ -1788,14 +1820,14 @@ libvirt_xenconfig_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 @WITH_LIBVIRTD_TRUE@lockd_la_DEPENDENCIES = ../gnulib/lib/libgnu.la \
 @WITH_LIBVIRTD_TRUE@	libvirt-net-rpc.la \
 @WITH_LIBVIRTD_TRUE@	libvirt-net-rpc-client.la \
-@WITH_LIBVIRTD_TRUE@	$(am__append_171)
+@WITH_LIBVIRTD_TRUE@	$(am__append_175)
 am__lockd_la_SOURCES_DIST = locking/lock_driver_lockd.c \
 	locking/lock_driver_lockd.h locking/lock_protocol.h \
 	locking/lock_protocol.c
-am__objects_96 = locking/lockd_la-lock_driver_lockd.lo
-am__objects_97 = locking/lockd_la-lock_protocol.lo
-@WITH_LIBVIRTD_TRUE@am_lockd_la_OBJECTS = $(am__objects_96) \
-@WITH_LIBVIRTD_TRUE@	$(am__objects_97)
+am__objects_97 = locking/lockd_la-lock_driver_lockd.lo
+am__objects_98 = locking/lockd_la-lock_protocol.lo
+@WITH_LIBVIRTD_TRUE@am_lockd_la_OBJECTS = $(am__objects_97) \
+@WITH_LIBVIRTD_TRUE@	$(am__objects_98)
 lockd_la_OBJECTS = $(am_lockd_la_OBJECTS)
 lockd_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(lockd_la_CFLAGS) \
@@ -1803,8 +1835,8 @@ lockd_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 @WITH_LIBVIRTD_TRUE@am_lockd_la_rpath = -rpath $(lockdriverdir)
 @WITH_SANLOCK_TRUE@sanlock_la_DEPENDENCIES = ../gnulib/lib/libgnu.la
 am__sanlock_la_SOURCES_DIST = locking/lock_driver_sanlock.c
-am__objects_98 = locking/sanlock_la-lock_driver_sanlock.lo
-@WITH_SANLOCK_TRUE@am_sanlock_la_OBJECTS = $(am__objects_98)
+am__objects_99 = locking/sanlock_la-lock_driver_sanlock.lo
+@WITH_SANLOCK_TRUE@am_sanlock_la_OBJECTS = $(am__objects_99)
 sanlock_la_OBJECTS = $(am_sanlock_la_OBJECTS)
 sanlock_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(sanlock_la_CFLAGS) \
@@ -1819,24 +1851,24 @@ sanlock_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@am__EXEEXT_6 = virt-aa-helper$(EXEEXT)
 PROGRAMS = $(libexec_PROGRAMS) $(sbin_PROGRAMS)
 am__libvirt_iohelper_SOURCES_DIST = util/iohelper.c
-am__objects_99 = util/libvirt_iohelper-iohelper.$(OBJEXT)
-@WITH_LIBVIRTD_TRUE@am_libvirt_iohelper_OBJECTS = $(am__objects_99)
+am__objects_100 = util/libvirt_iohelper-iohelper.$(OBJEXT)
+@WITH_LIBVIRTD_TRUE@am_libvirt_iohelper_OBJECTS = $(am__objects_100)
 libvirt_iohelper_OBJECTS = $(am_libvirt_iohelper_OBJECTS)
 @WITH_LIBVIRTD_TRUE@libvirt_iohelper_DEPENDENCIES = libvirt_util.la \
-@WITH_LIBVIRTD_TRUE@	../gnulib/lib/libgnu.la $(am__append_207)
+@WITH_LIBVIRTD_TRUE@	../gnulib/lib/libgnu.la $(am__append_211)
 libvirt_iohelper_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
 	$(libvirt_iohelper_CFLAGS) $(CFLAGS) \
 	$(libvirt_iohelper_LDFLAGS) $(LDFLAGS) -o $@
 am__libvirt_leaseshelper_SOURCES_DIST = network/leaseshelper.c
-am__objects_100 = network/libvirt_leaseshelper-leaseshelper.$(OBJEXT)
+am__objects_101 = network/libvirt_leaseshelper-leaseshelper.$(OBJEXT)
 @WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@am_libvirt_leaseshelper_OBJECTS =  \
-@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	$(am__objects_100)
+@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	$(am__objects_101)
 libvirt_leaseshelper_OBJECTS = $(am_libvirt_leaseshelper_OBJECTS)
 @WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@libvirt_leaseshelper_DEPENDENCIES =  \
 @WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	../gnulib/lib/libgnu.la \
-@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	$(am__append_209)
+@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	$(am__append_213)
 libvirt_leaseshelper_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
 	$(libvirt_leaseshelper_CFLAGS) $(CFLAGS) \
@@ -1848,20 +1880,20 @@ am__libvirt_lxc_SOURCES_DIST = lxc/lxc_monitor_protocol.h \
 	lxc/lxc_domain.c lxc/lxc_domain.h lxc/lxc_fuse.c \
 	lxc/lxc_fuse.h lxc/lxc_controller.c nodeinfo.h nodeinfo.c \
 	datatypes.h datatypes.c
-am__objects_101 = lxc/libvirt_lxc-lxc_monitor_protocol.$(OBJEXT)
-am__objects_102 = $(am__objects_101) $(am__objects_42) \
+am__objects_102 = lxc/libvirt_lxc-lxc_monitor_protocol.$(OBJEXT)
+am__objects_103 = $(am__objects_102) $(am__objects_42) \
 	lxc/libvirt_lxc-lxc_conf.$(OBJEXT) \
 	lxc/libvirt_lxc-lxc_container.$(OBJEXT) \
 	lxc/libvirt_lxc-lxc_cgroup.$(OBJEXT) \
 	lxc/libvirt_lxc-lxc_domain.$(OBJEXT) \
 	lxc/libvirt_lxc-lxc_fuse.$(OBJEXT) \
 	lxc/libvirt_lxc-lxc_controller.$(OBJEXT)
-am__objects_103 = libvirt_lxc-nodeinfo.$(OBJEXT)
-am__objects_104 = libvirt_lxc-datatypes.$(OBJEXT)
+am__objects_104 = libvirt_lxc-nodeinfo.$(OBJEXT)
+am__objects_105 = libvirt_lxc-datatypes.$(OBJEXT)
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@am_libvirt_lxc_OBJECTS =  \
-@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__objects_102) \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__objects_103) \
-@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__objects_104)
+@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__objects_104) \
+@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__objects_105)
 libvirt_lxc_OBJECTS = $(am_libvirt_lxc_OBJECTS)
 @WITH_BLKID_TRUE@@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@am__DEPENDENCIES_16 = $(am__DEPENDENCIES_1)
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@libvirt_lxc_DEPENDENCIES =  \
@@ -1872,29 +1904,29 @@ libvirt_lxc_OBJECTS = $(am_libvirt_lxc_OBJECTS)
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	libvirt_conf.la \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	../gnulib/lib/libgnu.la \
-@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__append_215) \
+@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__append_219) \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__DEPENDENCIES_7) \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__DEPENDENCIES_16)
 libvirt_lxc_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(libvirt_lxc_CFLAGS) \
 	$(CFLAGS) $(libvirt_lxc_LDFLAGS) $(LDFLAGS) -o $@
 am__libvirt_parthelper_SOURCES_DIST = storage/parthelper.c
-am__objects_105 = storage/libvirt_parthelper-parthelper.$(OBJEXT)
-@WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@am_libvirt_parthelper_OBJECTS = $(am__objects_105)
+am__objects_106 = storage/libvirt_parthelper-parthelper.$(OBJEXT)
+@WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@am_libvirt_parthelper_OBJECTS = $(am__objects_106)
 libvirt_parthelper_OBJECTS = $(am_libvirt_parthelper_OBJECTS)
 @WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@libvirt_parthelper_DEPENDENCIES = $(am__DEPENDENCIES_1) \
 @WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@	libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@	../gnulib/lib/libgnu.la \
-@WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@	$(am__append_212)
+@WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@	$(am__append_216)
 libvirt_parthelper_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
 	$(libvirt_parthelper_CFLAGS) $(CFLAGS) \
 	$(libvirt_parthelper_LDFLAGS) $(LDFLAGS) -o $@
 am__libvirt_sanlock_helper_SOURCES_DIST = locking/sanlock_helper.c
-am__objects_106 =  \
+am__objects_107 =  \
 	locking/libvirt_sanlock_helper-sanlock_helper.$(OBJEXT)
 @WITH_SANLOCK_TRUE@am_libvirt_sanlock_helper_OBJECTS =  \
-@WITH_SANLOCK_TRUE@	$(am__objects_106)
+@WITH_SANLOCK_TRUE@	$(am__objects_107)
 libvirt_sanlock_helper_OBJECTS = $(am_libvirt_sanlock_helper_OBJECTS)
 @WITH_SANLOCK_TRUE@libvirt_sanlock_helper_DEPENDENCIES = libvirt.la
 libvirt_sanlock_helper_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
@@ -1903,10 +1935,10 @@ libvirt_sanlock_helper_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(libvirt_sanlock_helper_LDFLAGS) $(LDFLAGS) -o $@
 am__virt_aa_helper_SOURCES_DIST = datatypes.h datatypes.c \
 	security/virt-aa-helper.c
-am__objects_107 = virt_aa_helper-datatypes.$(OBJEXT)
-am__objects_108 = $(am__objects_107) \
+am__objects_108 = virt_aa_helper-datatypes.$(OBJEXT)
+am__objects_109 = $(am__objects_108) \
 	security/virt_aa_helper-virt-aa-helper.$(OBJEXT)
-@WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@am_virt_aa_helper_OBJECTS = $(am__objects_108)
+@WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@am_virt_aa_helper_OBJECTS = $(am__objects_109)
 virt_aa_helper_OBJECTS = $(am_virt_aa_helper_OBJECTS)
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@virt_aa_helper_DEPENDENCIES =  \
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	libvirt.la \
@@ -1914,7 +1946,7 @@ virt_aa_helper_OBJECTS = $(am_virt_aa_helper_OBJECTS)
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	libvirt_driver_storage_impl.la \
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	../gnulib/lib/libgnu.la \
-@WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	$(am__append_219)
+@WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	$(am__append_223)
 virt_aa_helper_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
 	$(virt_aa_helper_CFLAGS) $(CFLAGS) $(virt_aa_helper_LDFLAGS) \
@@ -1924,18 +1956,18 @@ am__virtlockd_SOURCES_DIST = locking/lock_daemon.h \
 	locking/lock_daemon_config.c locking/lock_daemon_dispatch.c \
 	locking/lock_daemon_dispatch.h locking/lock_protocol.h \
 	locking/lock_protocol.c locking/lock_daemon_dispatch_stubs.h
-am__objects_109 = locking/virtlockd-lock_daemon.$(OBJEXT) \
+am__objects_110 = locking/virtlockd-lock_daemon.$(OBJEXT) \
 	locking/virtlockd-lock_daemon_config.$(OBJEXT) \
 	locking/virtlockd-lock_daemon_dispatch.$(OBJEXT)
-am__objects_110 = locking/virtlockd-lock_protocol.$(OBJEXT)
-@WITH_LIBVIRTD_TRUE@am_virtlockd_OBJECTS = $(am__objects_109) \
-@WITH_LIBVIRTD_TRUE@	$(am__objects_110) $(am__objects_42)
+am__objects_111 = locking/virtlockd-lock_protocol.$(OBJEXT)
+@WITH_LIBVIRTD_TRUE@am_virtlockd_OBJECTS = $(am__objects_110) \
+@WITH_LIBVIRTD_TRUE@	$(am__objects_111) $(am__objects_42)
 virtlockd_OBJECTS = $(am_virtlockd_OBJECTS)
 @WITH_LIBVIRTD_TRUE@virtlockd_DEPENDENCIES =  \
 @WITH_LIBVIRTD_TRUE@	libvirt-net-rpc-server.la \
 @WITH_LIBVIRTD_TRUE@	libvirt-net-rpc.la libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@	../gnulib/lib/libgnu.la \
-@WITH_LIBVIRTD_TRUE@	$(am__DEPENDENCIES_1) $(am__append_180)
+@WITH_LIBVIRTD_TRUE@	$(am__DEPENDENCIES_1) $(am__append_184)
 virtlockd_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(virtlockd_CFLAGS) \
 	$(CFLAGS) $(virtlockd_LDFLAGS) $(LDFLAGS) -o $@
@@ -1945,18 +1977,18 @@ am__virtlogd_SOURCES_DIST = logging/log_daemon.h logging/log_daemon.c \
 	logging/log_handler.c logging/log_handler.h \
 	logging/log_protocol.h logging/log_protocol.c \
 	logging/log_daemon_dispatch_stubs.h
-am__objects_111 = logging/virtlogd-log_daemon.$(OBJEXT) \
+am__objects_112 = logging/virtlogd-log_daemon.$(OBJEXT) \
 	logging/virtlogd-log_daemon_config.$(OBJEXT) \
 	logging/virtlogd-log_daemon_dispatch.$(OBJEXT) \
 	logging/virtlogd-log_handler.$(OBJEXT)
-am__objects_112 = logging/virtlogd-log_protocol.$(OBJEXT)
-@WITH_LIBVIRTD_TRUE@am_virtlogd_OBJECTS = $(am__objects_111) \
-@WITH_LIBVIRTD_TRUE@	$(am__objects_112) $(am__objects_42)
+am__objects_113 = logging/virtlogd-log_protocol.$(OBJEXT)
+@WITH_LIBVIRTD_TRUE@am_virtlogd_OBJECTS = $(am__objects_112) \
+@WITH_LIBVIRTD_TRUE@	$(am__objects_113) $(am__objects_42)
 virtlogd_OBJECTS = $(am_virtlogd_OBJECTS)
 @WITH_LIBVIRTD_TRUE@virtlogd_DEPENDENCIES = libvirt-net-rpc-server.la \
 @WITH_LIBVIRTD_TRUE@	libvirt-net-rpc.la libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@	../gnulib/lib/libgnu.la \
-@WITH_LIBVIRTD_TRUE@	$(am__DEPENDENCIES_1) $(am__append_181)
+@WITH_LIBVIRTD_TRUE@	$(am__DEPENDENCIES_1) $(am__append_185)
 virtlogd_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(virtlogd_CFLAGS) \
 	$(CFLAGS) $(virtlogd_LDFLAGS) $(LDFLAGS) -o $@
@@ -2017,6 +2049,8 @@ SOURCES = $(libvirt_admin_la_SOURCES) $(libvirt_lxc_la_SOURCES) \
 	$(libvirt_driver_nodedev_la_SOURCES) \
 	$(libvirt_driver_nwfilter_la_SOURCES) \
 	$(libvirt_driver_nwfilter_impl_la_SOURCES) \
+	$(libvirt_driver_openbsd_vmm_la_SOURCES) \
+	$(libvirt_driver_openbsd_vmm_impl_la_SOURCES) \
 	$(libvirt_driver_openvz_la_SOURCES) \
 	$(libvirt_driver_phyp_la_SOURCES) \
 	$(libvirt_driver_qemu_la_SOURCES) \
@@ -2070,6 +2104,8 @@ DIST_SOURCES = $(libvirt_admin_la_SOURCES) $(libvirt_lxc_la_SOURCES) \
 	$(am__libvirt_driver_nodedev_la_SOURCES_DIST) \
 	$(libvirt_driver_nwfilter_la_SOURCES) \
 	$(am__libvirt_driver_nwfilter_impl_la_SOURCES_DIST) \
+	$(libvirt_driver_openbsd_vmm_la_SOURCES) \
+	$(am__libvirt_driver_openbsd_vmm_impl_la_SOURCES_DIST) \
 	$(am__libvirt_driver_openvz_la_SOURCES_DIST) \
 	$(am__libvirt_driver_phyp_la_SOURCES_DIST) \
 	$(libvirt_driver_qemu_la_SOURCES) \
@@ -3504,6 +3540,8 @@ VGREMOVE = @VGREMOVE@
 VGS = @VGS@
 VGSCAN = @VGSCAN@
 VIR_TEST_EXPENSIVE_DEFAULT = @VIR_TEST_EXPENSIVE_DEFAULT@
+VMCTL = @VMCTL@
+VMD = @VMD@
 WARN_CFLAGS = @WARN_CFLAGS@
 WCHAR_T_SUFFIX = @WCHAR_T_SUFFIX@
 WIN32_EXTRA_CFLAGS = @WIN32_EXTRA_CFLAGS@
@@ -3642,7 +3680,7 @@ EXTRA_DIST = $(conf_DATA) util/keymaps.csv $(srcdir)/util/keymaps.csv \
 	qemu/THREADS.txt lxc/lxc.conf lxc/libvirtd_lxc.aug \
 	lxc/test_libvirtd_lxc.aug.in $(ESX_GENERATED_STAMP) \
 	$(HYPERV_GENERATED_STAMP) network/default.xml \
-	access/genpolkit.pl $(am__append_134) $(TEST_DRIVER_SOURCES) \
+	access/genpolkit.pl $(am__append_138) $(TEST_DRIVER_SOURCES) \
 	$(REMOTE_DRIVER_SOURCES) $(XEN_DRIVER_SOURCES) \
 	$(QEMU_DRIVER_SOURCES) $(LXC_DRIVER_SOURCES) \
 	$(UML_DRIVER_SOURCES) $(OPENVZ_DRIVER_SOURCES) \
@@ -3669,7 +3707,7 @@ EXTRA_DIST = $(conf_DATA) util/keymaps.csv $(srcdir)/util/keymaps.csv \
 	$(top_srcdir)/build-aux/augeas-gentest.pl libvirt_public.syms \
 	libvirt_lxc.syms libvirt_qemu.syms libvirt_admin_public.syms \
 	$(SYM_FILES) $(ADMIN_SYM_FILES) $(NULL) admin/admin_remote.c \
-	libvirt_probes.d libvirt_qemu_probes.d $(am__append_182) \
+	libvirt_probes.d libvirt_qemu_probes.d $(am__append_186) \
 	locking/virtlockd.sysconf locking/lockd.conf \
 	locking/libvirt_lockd.aug locking/test_libvirt_lockd.aug.in \
 	logging/virtlogd.sysconf locking/virtlockd.init.in \
@@ -3679,33 +3717,33 @@ EXTRA_DIST = $(conf_DATA) util/keymaps.csv $(srcdir)/util/keymaps.csv \
 	logging/virtlogd.service.in logging/virtlogd.socket.in \
 	logging/virtlogd.aug logging/virtlogd.conf \
 	logging/test_virtlogd.aug.in $(PODFILES) $(MANINFILES) $(NULL) \
-	$(am__append_199) locking/sanlock.conf \
+	$(am__append_203) locking/sanlock.conf \
 	locking/libvirt_sanlock.aug \
 	locking/test_libvirt_sanlock.aug.in dtrace2systemtap.pl \
 	rpc/gendispatch.pl rpc/genprotocol.pl rpc/gensystemtap.pl \
 	rpc/virnetprotocol.x rpc/virkeepaliveprotocol.x \
-	$(am__append_201) $(am__append_203) $(am__append_205) \
-	$(am__append_210) $(STORAGE_HELPER_DISK_SOURCES) \
+	$(am__append_205) $(am__append_207) $(am__append_209) \
+	$(am__append_214) $(STORAGE_HELPER_DISK_SOURCES) \
 	$(LXC_CONTROLLER_SOURCES) \
 	$(SECURITY_DRIVER_APPARMOR_HELPER_SOURCES)
 BUILT_SOURCES = util/virkeymaps.h $(LOCK_PROTOCOL_GENERATED) \
 	$(LOCK_DAEMON_GENERATED) $(LOG_PROTOCOL_GENERATED) \
 	$(LOG_DAEMON_GENERATED) $(ADMIN_PROTOCOL_GENERATED) \
 	$(LXC_GENERATED) $(am__append_18) $(ESX_DRIVER_GENERATED) \
-	$(HYPERV_DRIVER_GENERATED) $(am__append_133) \
+	$(HYPERV_DRIVER_GENERATED) $(am__append_137) \
 	$(ACCESS_DRIVER_GENERATED) $(ACCESS_DRIVER_API_FILES) \
-	$(GENERATED_SYM_FILES) $(am__append_164) $(am__append_166) \
-	$(am__append_175) $(am__append_178) $(am__append_183) \
-	$(am__append_187) $(am__append_194) $(am__append_197) \
+	$(GENERATED_SYM_FILES) $(am__append_168) $(am__append_170) \
+	$(am__append_179) $(am__append_182) $(am__append_187) \
+	$(am__append_191) $(am__append_198) $(am__append_201) \
 	$(VIR_NET_RPC_GENERATED)
 CLEANFILES = $(LXC_GENERATED) $(am__append_42) $(am__append_50) \
-	$(am__append_60) $(am__append_132) $(ACCESS_DRIVER_GENERATED) \
-	$(ACCESS_DRIVER_API_FILES) $(am__append_167) $(am__append_173) \
+	$(am__append_60) $(am__append_136) $(ACCESS_DRIVER_GENERATED) \
+	$(ACCESS_DRIVER_API_FILES) $(am__append_171) $(am__append_177) \
 	test_virtlockd.aug test_virtlogd.aug $(man8_MANS) \
-	$(am__append_192) *.gcov .libs/*.gcda .libs/*.gcno *.gcno \
+	$(am__append_196) *.gcov .libs/*.gcda .libs/*.gcno *.gcno \
 	*.gcda *.i *.s
-DISTCLEANFILES = $(am__append_176) $(am__append_179) $(am__append_184) \
-	$(am__append_188) $(am__append_195) $(am__append_198) \
+DISTCLEANFILES = $(am__append_180) $(am__append_183) $(am__append_188) \
+	$(am__append_192) $(am__append_199) $(am__append_202) \
 	$(GENERATED_SYM_FILES)
 MAINTAINERCLEANFILES = util/virkeymaps.h $(LOCK_PROTOCOL_GENERATED) \
 	$(LOCK_DAEMON_GENERATED) $(LOG_PROTOCOL_GENERATED) \
@@ -3714,8 +3752,8 @@ MAINTAINERCLEANFILES = util/virkeymaps.h $(LOCK_PROTOCOL_GENERATED) \
 	$(HYPERV_DRIVER_GENERATED) $(HYPERV_GENERATED_STAMP) \
 	$(MANINFILES) $(REMOTE_DRIVER_GENERATED) \
 	$(VIR_NET_RPC_GENERATED)
-nodist_conf_DATA = $(am__append_174) $(am__append_177) \
-	$(am__append_193) $(am__append_196)
+nodist_conf_DATA = $(am__append_178) $(am__append_181) \
+	$(am__append_197) $(am__append_200)
 THREAD_LIBS = $(LIB_PTHREAD) $(LTLIBMULTITHREAD)
 SECDRIVER_CFLAGS = $(am__append_1) $(am__append_3)
 SECDRIVER_LIBS = $(am__append_2) $(am__append_4)
@@ -3726,17 +3764,17 @@ moddir = $(libdir)/libvirt/connection-driver
 mod_LTLIBRARIES = $(am__append_20) $(am__append_30) $(am__append_36) \
 	$(am__append_44) $(am__append_52) $(am__append_62) \
 	$(am__append_70) $(am__append_74) $(am__append_78) \
-	$(am__append_81) $(am__append_89) $(am__append_94) \
-	$(am__append_112) $(am__append_123)
+	$(am__append_82) $(am__append_85) $(am__append_93) \
+	$(am__append_98) $(am__append_116) $(am__append_127)
 confdir = $(sysconfdir)/libvirt
 conf_DATA = libvirt.conf libvirt-admin.conf $(am__append_39) \
-	$(am__append_47) $(am__append_57) $(am__append_185)
+	$(am__append_47) $(am__append_57) $(am__append_189)
 augeasdir = $(datadir)/augeas/lenses
 augeas_DATA = $(am__append_40) $(am__append_48) $(am__append_58) \
-	$(am__append_170) $(am__append_190)
+	$(am__append_174) $(am__append_194)
 augeastestdir = $(datadir)/augeas/lenses/tests
 augeastest_DATA = $(am__append_41) $(am__append_49) $(am__append_59) \
-	$(am__append_172) $(am__append_186) $(am__append_191)
+	$(am__append_176) $(am__append_190) $(am__append_195)
 
 # These files are not related to driver APIs. Simply generic
 # helper APIs for various purposes
@@ -4146,6 +4184,7 @@ DRIVER_SOURCE_FILES = \
 
 STATEFUL_DRIVER_SOURCE_FILES = \
 	$(BHYVE_DRIVER_SOURCES) \
+	$(OPENBSD_VMM_DRIVER_SOURCES) \
 	$(INTERFACE_DRIVER_SOURCES) \
 	$(LIBXL_DRIVER_SOURCES) \
 	$(LXC_DRIVER_SOURCES) \
@@ -4378,6 +4417,11 @@ BHYVE_DRIVER_SOURCES = \
 		bhyve/bhyve_utils.h				\
 		$(NULL)
 
+OPENBSD_VMM_DRIVER_SOURCES = \
+		openbsd/openbsd_vmm_driver.c			\
+		openbsd/openbsd_vmm_driver.h			\
+		$(NULL)
+
 NETWORK_DRIVER_SOURCES = \
 		network/bridge_driver.h network/bridge_driver.c \
 		network/bridge_driver_platform.h 		\
@@ -4548,12 +4592,12 @@ noinst_LTLIBRARIES = libvirt_util.la libvirt_conf.la libvirt_cpu.la \
 	$(am__append_64) $(am__append_65) $(am__append_67) \
 	$(am__append_69) $(am__append_72) $(am__append_73) \
 	$(am__append_76) $(am__append_77) $(am__append_80) \
-	$(am__append_82) $(am__append_90) $(am__append_93) \
-	$(am__append_96) $(am__append_113) $(am__append_122) \
-	$(am__append_124) libvirt_security_manager.la \
-	libvirt_driver_access.la $(am__append_168) libvirt-net-rpc.la \
-	libvirt-net-rpc-server.la libvirt-net-rpc-client.la \
-	libvirt-nss.la
+	$(am__append_81) $(am__append_84) $(am__append_86) \
+	$(am__append_94) $(am__append_97) $(am__append_100) \
+	$(am__append_117) $(am__append_126) $(am__append_128) \
+	libvirt_security_manager.la libvirt_driver_access.la \
+	$(am__append_172) libvirt-net-rpc.la libvirt-net-rpc-server.la \
+	libvirt-net-rpc-client.la libvirt-nss.la
 libvirt_la_LIBADD = $(libvirt_la_BUILT_LIBADD) $(DRIVER_MODULE_LIBS) \
 	$(CYGWIN_EXTRA_LIBADD)
 libvirt_la_BUILT_LIBADD = libvirt_util.la libvirt_conf.la \
@@ -4563,7 +4607,7 @@ libvirt_la_BUILT_LIBADD = libvirt_util.la libvirt_conf.la \
 	$(am__append_28) $(am__append_34) $(am__append_66) \
 	$(am__append_68) libvirt_security_manager.la \
 	libvirt_driver_access.la ../gnulib/lib/libgnu.la \
-	$(am__append_162)
+	$(am__append_166)
 libvirt_util_la_SOURCES = \
 		$(UTIL_SOURCES)
 
@@ -4610,16 +4654,16 @@ libvirt_driver_la_LIBADD = \
 
 # All .syms files should be placed in exactly one of these three lists,
 # depending on whether they are stored in git and/or used in the build.
-SYM_FILES = $(USED_SYM_FILES) $(am__append_136) $(am__append_138) \
-	$(am__append_140) $(am__append_142) $(am__append_144) \
-	$(am__append_146) $(am__append_148) $(am__append_150) \
-	$(am__append_152) $(am__append_154) $(am__append_156) \
-	$(am__append_158) $(am__append_160)
-USED_SYM_FILES = $(srcdir)/libvirt_private.syms $(am__append_135) \
-	$(am__append_137) $(am__append_139) $(am__append_141) \
-	$(am__append_143) $(am__append_145) $(am__append_147) \
-	$(am__append_149) $(am__append_151) $(am__append_153) \
-	$(am__append_155) $(am__append_157) $(am__append_159)
+SYM_FILES = $(USED_SYM_FILES) $(am__append_140) $(am__append_142) \
+	$(am__append_144) $(am__append_146) $(am__append_148) \
+	$(am__append_150) $(am__append_152) $(am__append_154) \
+	$(am__append_156) $(am__append_158) $(am__append_160) \
+	$(am__append_162) $(am__append_164)
+USED_SYM_FILES = $(srcdir)/libvirt_private.syms $(am__append_139) \
+	$(am__append_141) $(am__append_143) $(am__append_145) \
+	$(am__append_147) $(am__append_149) $(am__append_151) \
+	$(am__append_153) $(am__append_155) $(am__append_157) \
+	$(am__append_159) $(am__append_161) $(am__append_163)
 GENERATED_SYM_FILES = \
 	$(ACCESS_DRIVER_SYM_FILES) \
 	libvirt.syms libvirt.def libvirt_qemu.def libvirt_lxc.def \
@@ -4720,7 +4764,7 @@ GENERATED_SYM_FILES = \
 @WITH_QEMU_TRUE@libvirt_driver_qemu_la_SOURCES = 
 @WITH_QEMU_TRUE@libvirt_driver_qemu_la_LIBADD =  \
 @WITH_QEMU_TRUE@	libvirt_driver_qemu_impl.la $(am__append_45) \
-@WITH_QEMU_TRUE@	$(am__append_165)
+@WITH_QEMU_TRUE@	$(am__append_169)
 @WITH_DRIVER_MODULES_TRUE@@WITH_QEMU_TRUE@libvirt_driver_qemu_la_LDFLAGS = -module -avoid-version $(AM_LDFLAGS)
 # Stateful, so linked to daemon instead
 #libvirt_la_BUILT_LIBADD += libvirt_driver_qemu.la
@@ -4804,10 +4848,22 @@ HYPERV_GENERATED_STAMP = .hyperv_wmi_generator.stamp
 
 @WITH_BHYVE_TRUE@libvirt_driver_bhyve_impl_la_LDFLAGS = $(AM_LDFLAGS)
 @WITH_BHYVE_TRUE@libvirt_driver_bhyve_impl_la_SOURCES = $(BHYVE_DRIVER_SOURCES)
+@WITH_OPENBSD_VMM_TRUE@libvirt_driver_openbsd_vmm_la_SOURCES = 
+@WITH_OPENBSD_VMM_TRUE@libvirt_driver_openbsd_vmm_la_LIBADD =  \
+@WITH_OPENBSD_VMM_TRUE@	libvirt_driver_openbsd_vmm_impl.la \
+@WITH_OPENBSD_VMM_TRUE@	$(am__append_79)
+@WITH_DRIVER_MODULES_TRUE@@WITH_OPENBSD_VMM_TRUE@libvirt_driver_openbsd_vmm_la_LDFLAGS = -module -avoid-version $(AM_LDFLAGS)
+@WITH_OPENBSD_VMM_TRUE@libvirt_driver_openbsd_vmm_impl_la_CFLAGS = \
+@WITH_OPENBSD_VMM_TRUE@	-I$(srcdir)/access \
+@WITH_OPENBSD_VMM_TRUE@	-I$(srcdir)/conf \
+@WITH_OPENBSD_VMM_TRUE@	$(AM_CFLAGS)
+
+@WITH_OPENBSD_VMM_TRUE@libvirt_driver_openbsd_vmm_impl_la_LDFLAGS = $(AM_LDFLAGS)
+@WITH_OPENBSD_VMM_TRUE@libvirt_driver_openbsd_vmm_impl_la_SOURCES = $(OPENBSD_VMM_DRIVER_SOURCES)
 @WITH_NETWORK_TRUE@libvirt_driver_network_la_SOURCES = 
 @WITH_NETWORK_TRUE@libvirt_driver_network_la_LIBADD =  \
 @WITH_NETWORK_TRUE@	libvirt_driver_network_impl.la \
-@WITH_NETWORK_TRUE@	$(am__append_79)
+@WITH_NETWORK_TRUE@	$(am__append_83)
 @WITH_DRIVER_MODULES_TRUE@@WITH_NETWORK_TRUE@libvirt_driver_network_la_LDFLAGS = -module -avoid-version $(AM_LDFLAGS)
 # Stateful, so linked to daemon instead
 #libvirt_la_BUILT_LIBADD += libvirt_driver_network.la
@@ -4825,12 +4881,12 @@ HYPERV_GENERATED_STAMP = .hyperv_wmi_generator.stamp
 @WITH_INTERFACE_TRUE@libvirt_driver_interface_la_CFLAGS =  \
 @WITH_INTERFACE_TRUE@	-I$(srcdir)/access -I$(srcdir)/conf \
 @WITH_INTERFACE_TRUE@	$(AM_CFLAGS) $(LIBNL_CFLAGS) \
-@WITH_INTERFACE_TRUE@	$(am__append_83) $(am__append_85)
+@WITH_INTERFACE_TRUE@	$(am__append_87) $(am__append_89)
 @WITH_INTERFACE_TRUE@libvirt_driver_interface_la_LDFLAGS =  \
-@WITH_INTERFACE_TRUE@	$(AM_LDFLAGS) $(am__append_88)
+@WITH_INTERFACE_TRUE@	$(AM_LDFLAGS) $(am__append_92)
 @WITH_INTERFACE_TRUE@libvirt_driver_interface_la_LIBADD =  \
-@WITH_INTERFACE_TRUE@	$(am__append_84) $(am__append_86) \
-@WITH_INTERFACE_TRUE@	$(am__append_87)
+@WITH_INTERFACE_TRUE@	$(am__append_88) $(am__append_90) \
+@WITH_INTERFACE_TRUE@	$(am__append_91)
 @WITH_INTERFACE_TRUE@libvirt_driver_interface_la_SOURCES = $(INTERFACE_DRIVER_SOURCES)
 # Stateful, so linked to daemon instead
 #libvirt_la_BUILT_LIBADD += libvirt_driver_secret.la
@@ -4844,36 +4900,36 @@ HYPERV_GENERATED_STAMP = .hyperv_wmi_generator.stamp
 @WITH_SECRETS_TRUE@libvirt_driver_secret_la_SOURCES = $(SECRET_DRIVER_SOURCES)
 
 # Needed to keep automake quiet about conditionals
-libvirt_driver_storage_impl_la_SOURCES = $(am__append_97) \
-	$(am__append_98) $(am__append_99) $(am__append_100) \
-	$(am__append_101) $(am__append_104) $(am__append_105) \
-	$(am__append_107) $(am__append_108) $(am__append_111)
+libvirt_driver_storage_impl_la_SOURCES = $(am__append_101) \
+	$(am__append_102) $(am__append_103) $(am__append_104) \
+	$(am__append_105) $(am__append_108) $(am__append_109) \
+	$(am__append_111) $(am__append_112) $(am__append_115)
 libvirt_driver_storage_impl_la_CFLAGS = -I$(srcdir)/access \
 	-I$(srcdir)/conf -I$(srcdir)/secret $(AM_CFLAGS) \
-	$(am__append_91) $(am__append_102) $(am__append_109)
+	$(am__append_95) $(am__append_106) $(am__append_113)
 libvirt_driver_storage_impl_la_LDFLAGS = $(AM_LDFLAGS)
 libvirt_driver_storage_impl_la_LIBADD = $(SECDRIVER_LIBS) \
-	$(LIBXML_LIBS) $(am__append_92) $(am__append_103) \
-	$(am__append_106) $(am__append_110)
+	$(LIBXML_LIBS) $(am__append_96) $(am__append_107) \
+	$(am__append_110) $(am__append_114)
 @WITH_STORAGE_TRUE@libvirt_driver_storage_la_SOURCES = 
 @WITH_STORAGE_TRUE@libvirt_driver_storage_la_LIBADD =  \
 @WITH_STORAGE_TRUE@	libvirt_driver_storage_impl.la \
-@WITH_STORAGE_TRUE@	$(am__append_95)
+@WITH_STORAGE_TRUE@	$(am__append_99)
 @WITH_DRIVER_MODULES_TRUE@@WITH_STORAGE_TRUE@libvirt_driver_storage_la_LDFLAGS = -module -avoid-version $(AM_LDFLAGS)
 # Stateful, so linked to daemon instead
 #libvirt_la_BUILT_LIBADD += libvirt_driver_nodedev.la
 @WITH_NODE_DEVICES_TRUE@libvirt_driver_nodedev_la_SOURCES =  \
 @WITH_NODE_DEVICES_TRUE@	$(NODE_DEVICE_DRIVER_SOURCES) \
-@WITH_NODE_DEVICES_TRUE@	$(am__append_114) $(am__append_117)
+@WITH_NODE_DEVICES_TRUE@	$(am__append_118) $(am__append_121)
 @WITH_NODE_DEVICES_TRUE@libvirt_driver_nodedev_la_CFLAGS =  \
 @WITH_NODE_DEVICES_TRUE@	-I$(srcdir)/access -I$(srcdir)/conf \
 @WITH_NODE_DEVICES_TRUE@	$(AM_CFLAGS) $(LIBNL_CFLAGS) \
-@WITH_NODE_DEVICES_TRUE@	$(am__append_115) $(am__append_118)
+@WITH_NODE_DEVICES_TRUE@	$(am__append_119) $(am__append_122)
 @WITH_NODE_DEVICES_TRUE@libvirt_driver_nodedev_la_LDFLAGS =  \
-@WITH_NODE_DEVICES_TRUE@	$(AM_LDFLAGS) $(am__append_121)
+@WITH_NODE_DEVICES_TRUE@	$(AM_LDFLAGS) $(am__append_125)
 @WITH_NODE_DEVICES_TRUE@libvirt_driver_nodedev_la_LIBADD =  \
-@WITH_NODE_DEVICES_TRUE@	$(am__append_116) $(am__append_119) \
-@WITH_NODE_DEVICES_TRUE@	$(am__append_120)
+@WITH_NODE_DEVICES_TRUE@	$(am__append_120) $(am__append_123) \
+@WITH_NODE_DEVICES_TRUE@	$(am__append_124)
 @WITH_NWFILTER_TRUE@libvirt_driver_nwfilter_la_SOURCES = 
 @WITH_NWFILTER_TRUE@libvirt_driver_nwfilter_la_LIBADD = libvirt_driver_nwfilter_impl.la
 @WITH_DRIVER_MODULES_TRUE@@WITH_NWFILTER_TRUE@libvirt_driver_nwfilter_la_LDFLAGS = -module -avoid-version $(AM_LDFLAGS)
@@ -4888,19 +4944,19 @@ libvirt_driver_storage_impl_la_LIBADD = $(SECDRIVER_LIBS) \
 @WITH_NWFILTER_TRUE@		$(AM_CFLAGS)
 
 @WITH_NWFILTER_TRUE@libvirt_driver_nwfilter_impl_la_LDFLAGS =  \
-@WITH_NWFILTER_TRUE@	$(AM_LDFLAGS) $(am__append_126)
+@WITH_NWFILTER_TRUE@	$(AM_LDFLAGS) $(am__append_130)
 @WITH_NWFILTER_TRUE@libvirt_driver_nwfilter_impl_la_LIBADD =  \
 @WITH_NWFILTER_TRUE@	$(LIBPCAP_LIBS) $(LIBNL_LIBS) $(DBUS_LIBS) \
-@WITH_NWFILTER_TRUE@	$(am__append_125)
+@WITH_NWFILTER_TRUE@	$(am__append_129)
 @WITH_NWFILTER_TRUE@libvirt_driver_nwfilter_impl_la_SOURCES = $(NWFILTER_DRIVER_SOURCES)
 libvirt_security_manager_la_SOURCES = $(SECURITY_DRIVER_SOURCES) \
-	$(am__append_127) $(am__append_129)
+	$(am__append_131) $(am__append_133)
 libvirt_security_manager_la_CFLAGS = -I$(srcdir)/conf $(AM_CFLAGS) \
-	$(am__append_128) $(am__append_130)
+	$(am__append_132) $(am__append_134)
 libvirt_security_manager_la_LDFLAGS = $(AM_LDFLAGS)
 libvirt_security_manager_la_LIBADD = $(SECDRIVER_LIBS)
 libvirt_driver_access_la_SOURCES = $(ACCESS_DRIVER_SOURCES) \
-	$(ACCESS_DRIVER_GENERATED) $(am__append_131)
+	$(ACCESS_DRIVER_GENERATED) $(am__append_135)
 libvirt_driver_access_la_CFLAGS = \
 		-I$(srcdir)/conf $(AM_CFLAGS)
 
@@ -4923,7 +4979,7 @@ libvirt_admin_la_LDFLAGS = \
 
 libvirt_admin_la_LIBADD = libvirt.la $(CYGWIN_EXTRA_LIBADD) \
 	$(CAPNG_LIBS) $(YAJL_LIBS) $(DEVMAPPER_LIBS) $(LIBXML_LIBS) \
-	$(SSH2_LIBS) $(SASL_LIBS) $(GNUTLS_LIBS) $(am__append_161)
+	$(SSH2_LIBS) $(SASL_LIBS) $(GNUTLS_LIBS) $(am__append_165)
 libvirt_admin_la_CFLAGS = $(AM_CFLAGS) -I$(srcdir)/remote \
 	-I$(srcdir)/rpc -I$(srcdir)/admin $(XDR_CFLAGS) \
 	$(CAPNG_CFLAGS) $(YAJL_CFLAGS) $(SSH2_CFLAGS) $(SASL_CFLAGS) \
@@ -4948,7 +5004,7 @@ libvirt_la_CFLAGS = -DIN_LIBVIRT $(AM_CFLAGS)
 # $(libvirt_la_BUILT_LIBADD) as the subset that automake would have
 # picked out for us.
 libvirt_la_DEPENDENCIES = $(libvirt_la_BUILT_LIBADD) \
-	$(LIBVIRT_SYMBOL_FILE) $(am__append_163)
+	$(LIBVIRT_SYMBOL_FILE) $(am__append_167)
 @WITH_DTRACE_PROBES_TRUE@nodist_libvirt_la_SOURCES = libvirt_probes.h
 @WITH_DTRACE_PROBES_TRUE@@WITH_REMOTE_TRUE@nodist_libvirt_driver_remote_la_SOURCES = libvirt_probes.h
 @WITH_DRIVER_MODULES_TRUE@@WITH_DTRACE_PROBES_TRUE@DTRACE2SYSTEMTAP_FLAGS = --with-modules
@@ -5071,7 +5127,7 @@ libvirt_lxc_la_LIBADD = libvirt.la $(CYGWIN_EXTRA_LIBADD)
 @WITH_SETUID_RPC_CLIENT_TRUE@		$(NULL)
 
 lockdriverdir = $(libdir)/libvirt/lock-driver
-lockdriver_LTLIBRARIES = $(am__append_169) $(am__append_189)
+lockdriver_LTLIBRARIES = $(am__append_173) $(am__append_193)
 @WITH_LIBVIRTD_TRUE@lockd_la_SOURCES = \
 @WITH_LIBVIRTD_TRUE@		$(LOCK_DRIVER_LOCKD_SOURCES) \
 @WITH_LIBVIRTD_TRUE@		$(LOCK_PROTOCOL_GENERATED) \
@@ -5085,7 +5141,7 @@ lockdriver_LTLIBRARIES = $(am__append_169) $(am__append_189)
 @WITH_LIBVIRTD_TRUE@lockd_la_LIBADD = ../gnulib/lib/libgnu.la \
 @WITH_LIBVIRTD_TRUE@	libvirt-net-rpc.la \
 @WITH_LIBVIRTD_TRUE@	libvirt-net-rpc-client.la $(NULL) \
-@WITH_LIBVIRTD_TRUE@	$(am__append_171)
+@WITH_LIBVIRTD_TRUE@	$(am__append_175)
 @WITH_LIBVIRTD_TRUE@virtlockd_SOURCES = \
 @WITH_LIBVIRTD_TRUE@		$(LOCK_DAEMON_SOURCES) \
 @WITH_LIBVIRTD_TRUE@		$(LOCK_PROTOCOL_GENERATED) \
@@ -5109,7 +5165,7 @@ lockdriver_LTLIBRARIES = $(am__append_169) $(am__append_189)
 @WITH_LIBVIRTD_TRUE@	libvirt-net-rpc.la libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@	../gnulib/lib/libgnu.la \
 @WITH_LIBVIRTD_TRUE@	$(CYGWIN_EXTRA_LIBADD) $(NULL) \
-@WITH_LIBVIRTD_TRUE@	$(am__append_180)
+@WITH_LIBVIRTD_TRUE@	$(am__append_184)
 @WITH_LIBVIRTD_TRUE@virtlogd_SOURCES = \
 @WITH_LIBVIRTD_TRUE@		$(LOG_DAEMON_SOURCES) \
 @WITH_LIBVIRTD_TRUE@		$(LOG_PROTOCOL_GENERATED) \
@@ -5133,7 +5189,7 @@ lockdriver_LTLIBRARIES = $(am__append_169) $(am__append_189)
 @WITH_LIBVIRTD_TRUE@	libvirt-net-rpc.la libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@	../gnulib/lib/libgnu.la \
 @WITH_LIBVIRTD_TRUE@	$(CYGWIN_EXTRA_LIBADD) $(NULL) \
-@WITH_LIBVIRTD_TRUE@	$(am__append_181)
+@WITH_LIBVIRTD_TRUE@	$(am__append_185)
 POD2MAN = pod2man -c "Virtualization Support" -r "$(PACKAGE)-$(VERSION)"
 @WITH_LIBVIRTD_TRUE@man8_MANS = virtlockd.8 virtlogd.8
 PODFILES = \
@@ -5161,8 +5217,8 @@ VIR_NET_RPC_GENERATED = \
 
 libvirt_net_rpc_la_SOURCES = rpc/virnetmessage.h rpc/virnetmessage.c \
 	rpc/virnetsocket.h rpc/virnetsocket.c rpc/virkeepalive.h \
-	rpc/virkeepalive.c $(VIR_NET_RPC_GENERATED) $(am__append_200) \
-	$(am__append_202) $(am__append_204)
+	rpc/virkeepalive.c $(VIR_NET_RPC_GENERATED) $(am__append_204) \
+	$(am__append_206) $(am__append_208)
 libvirt_net_rpc_la_CFLAGS = \
 			$(GNUTLS_CFLAGS) \
 			$(SASL_CFLAGS) \
@@ -5230,7 +5286,7 @@ libvirt_net_rpc_client_la_LIBADD = \
 @WITH_LIBVIRTD_TRUE@		$(NULL)
 
 @WITH_LIBVIRTD_TRUE@libvirt_iohelper_LDADD = libvirt_util.la \
-@WITH_LIBVIRTD_TRUE@	../gnulib/lib/libgnu.la $(am__append_207)
+@WITH_LIBVIRTD_TRUE@	../gnulib/lib/libgnu.la $(am__append_211)
 @WITH_LIBVIRTD_TRUE@libvirt_iohelper_CFLAGS = \
 @WITH_LIBVIRTD_TRUE@		$(AM_CFLAGS) \
 @WITH_LIBVIRTD_TRUE@		$(PIE_CFLAGS) \
@@ -5245,7 +5301,7 @@ libvirt_net_rpc_client_la_LIBADD = \
 @WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@libvirt_leaseshelper_LDADD =  \
 @WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	../gnulib/lib/libgnu.la \
-@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	$(am__append_209)
+@WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	$(am__append_213)
 @WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@libvirt_leaseshelper_CFLAGS = \
 @WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@	       $(AM_CFLAGS) \
 @WITH_LIBVIRTD_TRUE@@WITH_NETWORK_TRUE@               $(PIE_CFLAGS) \
@@ -5261,7 +5317,7 @@ libvirt_net_rpc_client_la_LIBADD = \
 @WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@	$(LIBPARTED_LIBS) \
 @WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@	libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@	../gnulib/lib/libgnu.la \
-@WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@	$(am__append_212)
+@WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@	$(am__append_216)
 @WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@libvirt_parthelper_CFLAGS = \
 @WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@		$(LIBPARTED_CFLAGS) \
 @WITH_LIBVIRTD_TRUE@@WITH_STORAGE_DISK_TRUE@		$(AM_CFLAGS) \
@@ -5298,9 +5354,9 @@ libvirt_net_rpc_client_la_LIBADD = \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	libvirt_conf.la \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	../gnulib/lib/libgnu.la \
-@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__append_215) \
+@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__append_219) \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(SECDRIVER_LIBS) \
-@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__append_217)
+@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__append_221)
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@libvirt_lxc_CFLAGS =  \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	-I$(srcdir)/conf \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(AM_CFLAGS) $(PIE_CFLAGS) \
@@ -5308,7 +5364,7 @@ libvirt_net_rpc_client_la_LIBADD = \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(FUSE_CFLAGS) \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(DBUS_CFLAGS) \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(XDR_CFLAGS) $(NULL) \
-@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__append_216) \
+@WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(am__append_220) \
 @WITH_LIBVIRTD_TRUE@@WITH_LXC_TRUE@	$(SECDRIVER_CFLAGS)
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@virt_aa_helper_SOURCES = $(SECURITY_DRIVER_APPARMOR_HELPER_SOURCES)
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@virt_aa_helper_LDFLAGS = \
@@ -5322,7 +5378,7 @@ libvirt_net_rpc_client_la_LIBADD = \
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	libvirt_util.la \
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	libvirt_driver_storage_impl.la \
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	../gnulib/lib/libgnu.la \
-@WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	$(am__append_219)
+@WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@	$(am__append_223)
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@virt_aa_helper_CFLAGS = \
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@		-I$(srcdir)/conf				\
 @WITH_LIBVIRTD_TRUE@@WITH_SECDRIVER_APPARMOR_TRUE@		-I$(srcdir)/security				\
@@ -6104,6 +6160,20 @@ nwfilter/libvirt_driver_nwfilter_impl_la-nwfilter_learnipaddr.lo:  \
 
 libvirt_driver_nwfilter_impl.la: $(libvirt_driver_nwfilter_impl_la_OBJECTS) $(libvirt_driver_nwfilter_impl_la_DEPENDENCIES) $(EXTRA_libvirt_driver_nwfilter_impl_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(libvirt_driver_nwfilter_impl_la_LINK) $(am_libvirt_driver_nwfilter_impl_la_rpath) $(libvirt_driver_nwfilter_impl_la_OBJECTS) $(libvirt_driver_nwfilter_impl_la_LIBADD) $(LIBS)
+
+libvirt_driver_openbsd_vmm.la: $(libvirt_driver_openbsd_vmm_la_OBJECTS) $(libvirt_driver_openbsd_vmm_la_DEPENDENCIES) $(EXTRA_libvirt_driver_openbsd_vmm_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(libvirt_driver_openbsd_vmm_la_LINK) $(am_libvirt_driver_openbsd_vmm_la_rpath) $(libvirt_driver_openbsd_vmm_la_OBJECTS) $(libvirt_driver_openbsd_vmm_la_LIBADD) $(LIBS)
+openbsd/$(am__dirstamp):
+	@$(MKDIR_P) openbsd
+	@: > openbsd/$(am__dirstamp)
+openbsd/$(DEPDIR)/$(am__dirstamp):
+	@$(MKDIR_P) openbsd/$(DEPDIR)
+	@: > openbsd/$(DEPDIR)/$(am__dirstamp)
+openbsd/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.lo:  \
+	openbsd/$(am__dirstamp) openbsd/$(DEPDIR)/$(am__dirstamp)
+
+libvirt_driver_openbsd_vmm_impl.la: $(libvirt_driver_openbsd_vmm_impl_la_OBJECTS) $(libvirt_driver_openbsd_vmm_impl_la_DEPENDENCIES) $(EXTRA_libvirt_driver_openbsd_vmm_impl_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(libvirt_driver_openbsd_vmm_impl_la_LINK) $(am_libvirt_driver_openbsd_vmm_impl_la_rpath) $(libvirt_driver_openbsd_vmm_impl_la_OBJECTS) $(libvirt_driver_openbsd_vmm_impl_la_LIBADD) $(LIBS)
 openvz/$(am__dirstamp):
 	@$(MKDIR_P) openvz
 	@: > openvz/$(am__dirstamp)
@@ -6833,6 +6903,8 @@ mostlyclean-compile:
 	-rm -f node_device/*.lo
 	-rm -f nwfilter/*.$(OBJEXT)
 	-rm -f nwfilter/*.lo
+	-rm -f openbsd/*.$(OBJEXT)
+	-rm -f openbsd/*.lo
 	-rm -f openvz/*.$(OBJEXT)
 	-rm -f openvz/*.lo
 	-rm -f phyp/*.$(OBJEXT)
@@ -7035,6 +7107,7 @@ distclean-compile:
 @AMDEP_TRUE@@am__include@ @am__quote@nwfilter/$(DEPDIR)/libvirt_driver_nwfilter_impl_la-nwfilter_ebiptables_driver.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@nwfilter/$(DEPDIR)/libvirt_driver_nwfilter_impl_la-nwfilter_gentech_driver.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@nwfilter/$(DEPDIR)/libvirt_driver_nwfilter_impl_la-nwfilter_learnipaddr.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@openbsd/$(DEPDIR)/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@openvz/$(DEPDIR)/libvirt_driver_openvz_la-openvz_conf.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@openvz/$(DEPDIR)/libvirt_driver_openvz_la-openvz_driver.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@openvz/$(DEPDIR)/libvirt_driver_openvz_la-openvz_util.Plo@am__quote@
@@ -8836,6 +8909,13 @@ nwfilter/libvirt_driver_nwfilter_impl_la-nwfilter_learnipaddr.lo: nwfilter/nwfil
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libvirt_driver_nwfilter_impl_la_CFLAGS) $(CFLAGS) -c -o nwfilter/libvirt_driver_nwfilter_impl_la-nwfilter_learnipaddr.lo `test -f 'nwfilter/nwfilter_learnipaddr.c' || echo '$(srcdir)/'`nwfilter/nwfilter_learnipaddr.c
 
+openbsd/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.lo: openbsd/openbsd_vmm_driver.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libvirt_driver_openbsd_vmm_impl_la_CFLAGS) $(CFLAGS) -MT openbsd/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.lo -MD -MP -MF openbsd/$(DEPDIR)/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.Tpo -c -o openbsd/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.lo `test -f 'openbsd/openbsd_vmm_driver.c' || echo '$(srcdir)/'`openbsd/openbsd_vmm_driver.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) openbsd/$(DEPDIR)/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.Tpo openbsd/$(DEPDIR)/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='openbsd/openbsd_vmm_driver.c' object='openbsd/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libvirt_driver_openbsd_vmm_impl_la_CFLAGS) $(CFLAGS) -c -o openbsd/libvirt_driver_openbsd_vmm_impl_la-openbsd_vmm_driver.lo `test -f 'openbsd/openbsd_vmm_driver.c' || echo '$(srcdir)/'`openbsd/openbsd_vmm_driver.c
+
 openvz/libvirt_driver_openvz_la-openvz_conf.lo: openvz/openvz_conf.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libvirt_driver_openvz_la_CFLAGS) $(CFLAGS) -MT openvz/libvirt_driver_openvz_la-openvz_conf.lo -MD -MP -MF openvz/$(DEPDIR)/libvirt_driver_openvz_la-openvz_conf.Tpo -c -o openvz/libvirt_driver_openvz_la-openvz_conf.lo `test -f 'openvz/openvz_conf.c' || echo '$(srcdir)/'`openvz/openvz_conf.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) openvz/$(DEPDIR)/libvirt_driver_openvz_la-openvz_conf.Tpo openvz/$(DEPDIR)/libvirt_driver_openvz_la-openvz_conf.Plo
@@ -10438,6 +10518,7 @@ clean-libtool:
 	-rm -rf network/.libs network/_libs
 	-rm -rf node_device/.libs node_device/_libs
 	-rm -rf nwfilter/.libs nwfilter/_libs
+	-rm -rf openbsd/.libs openbsd/_libs
 	-rm -rf openvz/.libs openvz/_libs
 	-rm -rf phyp/.libs phyp/_libs
 	-rm -rf qemu/.libs qemu/_libs
@@ -10794,6 +10875,8 @@ distclean-generic:
 	-rm -f node_device/$(am__dirstamp)
 	-rm -f nwfilter/$(DEPDIR)/$(am__dirstamp)
 	-rm -f nwfilter/$(am__dirstamp)
+	-rm -f openbsd/$(DEPDIR)/$(am__dirstamp)
+	-rm -f openbsd/$(am__dirstamp)
 	-rm -f openvz/$(DEPDIR)/$(am__dirstamp)
 	-rm -f openvz/$(am__dirstamp)
 	-rm -f phyp/$(DEPDIR)/$(am__dirstamp)
@@ -10844,7 +10927,7 @@ clean-am: clean-generic clean-libLTLIBRARIES clean-libexecPROGRAMS \
 	clean-noinstLTLIBRARIES clean-sbinPROGRAMS mostlyclean-am
 
 distclean: distclean-am
-	-rm -rf ./$(DEPDIR) access/$(DEPDIR) admin/$(DEPDIR) bhyve/$(DEPDIR) conf/$(DEPDIR) cpu/$(DEPDIR) esx/$(DEPDIR) hyperv/$(DEPDIR) interface/$(DEPDIR) libxl/$(DEPDIR) locking/$(DEPDIR) logging/$(DEPDIR) lxc/$(DEPDIR) network/$(DEPDIR) node_device/$(DEPDIR) nwfilter/$(DEPDIR) openvz/$(DEPDIR) phyp/$(DEPDIR) qemu/$(DEPDIR) remote/$(DEPDIR) rpc/$(DEPDIR) secret/$(DEPDIR) security/$(DEPDIR) storage/$(DEPDIR) test/$(DEPDIR) uml/$(DEPDIR) util/$(DEPDIR) vbox/$(DEPDIR) vmware/$(DEPDIR) vmx/$(DEPDIR) vz/$(DEPDIR) xen/$(DEPDIR) xenapi/$(DEPDIR) xenconfig/$(DEPDIR)
+	-rm -rf ./$(DEPDIR) access/$(DEPDIR) admin/$(DEPDIR) bhyve/$(DEPDIR) conf/$(DEPDIR) cpu/$(DEPDIR) esx/$(DEPDIR) hyperv/$(DEPDIR) interface/$(DEPDIR) libxl/$(DEPDIR) locking/$(DEPDIR) logging/$(DEPDIR) lxc/$(DEPDIR) network/$(DEPDIR) node_device/$(DEPDIR) nwfilter/$(DEPDIR) openbsd/$(DEPDIR) openvz/$(DEPDIR) phyp/$(DEPDIR) qemu/$(DEPDIR) remote/$(DEPDIR) rpc/$(DEPDIR) secret/$(DEPDIR) security/$(DEPDIR) storage/$(DEPDIR) test/$(DEPDIR) uml/$(DEPDIR) util/$(DEPDIR) vbox/$(DEPDIR) vmware/$(DEPDIR) vmx/$(DEPDIR) vz/$(DEPDIR) xen/$(DEPDIR) xenapi/$(DEPDIR) xenconfig/$(DEPDIR)
 	-rm -f Makefile
 distclean-am: clean-am distclean-compile distclean-generic \
 	distclean-tags
@@ -10896,7 +10979,7 @@ install-ps-am:
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
-	-rm -rf ./$(DEPDIR) access/$(DEPDIR) admin/$(DEPDIR) bhyve/$(DEPDIR) conf/$(DEPDIR) cpu/$(DEPDIR) esx/$(DEPDIR) hyperv/$(DEPDIR) interface/$(DEPDIR) libxl/$(DEPDIR) locking/$(DEPDIR) logging/$(DEPDIR) lxc/$(DEPDIR) network/$(DEPDIR) node_device/$(DEPDIR) nwfilter/$(DEPDIR) openvz/$(DEPDIR) phyp/$(DEPDIR) qemu/$(DEPDIR) remote/$(DEPDIR) rpc/$(DEPDIR) secret/$(DEPDIR) security/$(DEPDIR) storage/$(DEPDIR) test/$(DEPDIR) uml/$(DEPDIR) util/$(DEPDIR) vbox/$(DEPDIR) vmware/$(DEPDIR) vmx/$(DEPDIR) vz/$(DEPDIR) xen/$(DEPDIR) xenapi/$(DEPDIR) xenconfig/$(DEPDIR)
+	-rm -rf ./$(DEPDIR) access/$(DEPDIR) admin/$(DEPDIR) bhyve/$(DEPDIR) conf/$(DEPDIR) cpu/$(DEPDIR) esx/$(DEPDIR) hyperv/$(DEPDIR) interface/$(DEPDIR) libxl/$(DEPDIR) locking/$(DEPDIR) logging/$(DEPDIR) lxc/$(DEPDIR) network/$(DEPDIR) node_device/$(DEPDIR) nwfilter/$(DEPDIR) openbsd/$(DEPDIR) openvz/$(DEPDIR) phyp/$(DEPDIR) qemu/$(DEPDIR) remote/$(DEPDIR) rpc/$(DEPDIR) secret/$(DEPDIR) security/$(DEPDIR) storage/$(DEPDIR) test/$(DEPDIR) uml/$(DEPDIR) util/$(DEPDIR) vbox/$(DEPDIR) vmware/$(DEPDIR) vmx/$(DEPDIR) vz/$(DEPDIR) xen/$(DEPDIR) xenapi/$(DEPDIR) xenconfig/$(DEPDIR)
 	-rm -f Makefile
 maintainer-clean-am: distclean-am maintainer-clean-generic
 
diff --git a/src/libvirt.c b/src/libvirt.c
index a5e0e41..789a861 100644
--- a/src/libvirt.c
+++ b/src/libvirt.c
@@ -95,6 +95,9 @@
 #ifdef WITH_BHYVE
 # include "bhyve/bhyve_driver.h"
 #endif
+#ifdef WITH_OPENBSD_VMM
+# include "openbsd/openbsd_vmm_driver.h"
+#endif
 
 #define VIR_FROM_THIS VIR_FROM_NONE
 
diff --git a/src/lxc/lxc_monitor_protocol.c b/src/lxc/lxc_monitor_protocol.c
index 9a04d73..b3de2c9 100644
--- a/src/lxc/lxc_monitor_protocol.c
+++ b/src/lxc/lxc_monitor_protocol.c
@@ -8,37 +8,47 @@
 #include "virxdrdefs.h"
 
 bool_t
-xdr_virLXCMonitorExitStatus (XDR *xdrs, virLXCMonitorExitStatus *objp)
+xdr_virLXCMonitorExitStatus(xdrs, objp)
+	XDR *xdrs;
+	virLXCMonitorExitStatus *objp;
 {
 
-         if (!xdr_enum (xdrs, (enum_t *) objp))
-                 return FALSE;
-        return TRUE;
+	if (!xdr_enum(xdrs, (enum_t *)objp))
+		return (FALSE);
+	return (TRUE);
 }
 
 bool_t
-xdr_virLXCMonitorExitEventMsg (XDR *xdrs, virLXCMonitorExitEventMsg *objp)
+xdr_virLXCMonitorExitEventMsg(xdrs, objp)
+	XDR *xdrs;
+	virLXCMonitorExitEventMsg *objp;
 {
 
-         if (!xdr_virLXCMonitorExitStatus (xdrs, &objp->status))
-                 return FALSE;
-        return TRUE;
+
+	if (!xdr_virLXCMonitorExitStatus(xdrs, &objp->status))
+		return (FALSE);
+	return (TRUE);
 }
 
 bool_t
-xdr_virLXCMonitorInitEventMsg (XDR *xdrs, virLXCMonitorInitEventMsg *objp)
+xdr_virLXCMonitorInitEventMsg(xdrs, objp)
+	XDR *xdrs;
+	virLXCMonitorInitEventMsg *objp;
 {
 
-         if (!xdr_uint64_t (xdrs, &objp->initpid))
-                 return FALSE;
-        return TRUE;
+
+	if (!xdr_u_int64_t(xdrs, &objp->initpid))
+		return (FALSE);
+	return (TRUE);
 }
 
 bool_t
-xdr_virLXCMonitorProcedure (XDR *xdrs, virLXCMonitorProcedure *objp)
+xdr_virLXCMonitorProcedure(xdrs, objp)
+	XDR *xdrs;
+	virLXCMonitorProcedure *objp;
 {
 
-         if (!xdr_enum (xdrs, (enum_t *) objp))
-                 return FALSE;
-        return TRUE;
+	if (!xdr_enum(xdrs, (enum_t *)objp))
+		return (FALSE);
+	return (TRUE);
 }
diff --git a/src/lxc/lxc_monitor_protocol.h b/src/lxc/lxc_monitor_protocol.h
index 6bc2b81..d07a780 100644
--- a/src/lxc/lxc_monitor_protocol.h
+++ b/src/lxc/lxc_monitor_protocol.h
@@ -6,58 +6,67 @@
 #ifndef _LXC_MONITOR_PROTOCOL_H_RPCGEN
 #define _LXC_MONITOR_PROTOCOL_H_RPCGEN
 
-#include <rpc/rpc.h>
-
+#define RPCGEN_VERSION	199506
 
-#ifdef __cplusplus
-extern "C" {
-#endif
+#include <rpc/rpc.h>
 
 #include "virxdrdefs.h"
 
 enum virLXCMonitorExitStatus {
-        VIR_LXC_MONITOR_EXIT_STATUS_ERROR = 0,
-        VIR_LXC_MONITOR_EXIT_STATUS_SHUTDOWN = 1,
-        VIR_LXC_MONITOR_EXIT_STATUS_REBOOT = 2,
+	VIR_LXC_MONITOR_EXIT_STATUS_ERROR = 0,
+	VIR_LXC_MONITOR_EXIT_STATUS_SHUTDOWN = 1,
+	VIR_LXC_MONITOR_EXIT_STATUS_REBOOT = 2
 };
 typedef enum virLXCMonitorExitStatus virLXCMonitorExitStatus;
+#ifdef __cplusplus
+extern "C" bool_t xdr_virLXCMonitorExitStatus(XDR *, virLXCMonitorExitStatus *);
+#elif defined(__STDC__)
+extern bool_t xdr_virLXCMonitorExitStatus(XDR *, virLXCMonitorExitStatus *);
+#else /* Old Style C */
+bool_t xdr_virLXCMonitorExitStatus();
+#endif /* Old Style C */
+
 
 struct virLXCMonitorExitEventMsg {
-        virLXCMonitorExitStatus status;
+	virLXCMonitorExitStatus status;
 };
 typedef struct virLXCMonitorExitEventMsg virLXCMonitorExitEventMsg;
+#ifdef __cplusplus
+extern "C" bool_t xdr_virLXCMonitorExitEventMsg(XDR *, virLXCMonitorExitEventMsg *);
+#elif defined(__STDC__)
+extern bool_t xdr_virLXCMonitorExitEventMsg(XDR *, virLXCMonitorExitEventMsg *);
+#else /* Old Style C */
+bool_t xdr_virLXCMonitorExitEventMsg();
+#endif /* Old Style C */
+
 
 struct virLXCMonitorInitEventMsg {
-        uint64_t initpid;
+	u_int64_t initpid;
 };
 typedef struct virLXCMonitorInitEventMsg virLXCMonitorInitEventMsg;
+#ifdef __cplusplus
+extern "C" bool_t xdr_virLXCMonitorInitEventMsg(XDR *, virLXCMonitorInitEventMsg *);
+#elif defined(__STDC__)
+extern bool_t xdr_virLXCMonitorInitEventMsg(XDR *, virLXCMonitorInitEventMsg *);
+#else /* Old Style C */
+bool_t xdr_virLXCMonitorInitEventMsg();
+#endif /* Old Style C */
+
 #define VIR_LXC_MONITOR_PROGRAM 0x12341234
 #define VIR_LXC_MONITOR_PROGRAM_VERSION 1
 
 enum virLXCMonitorProcedure {
-        VIR_LXC_MONITOR_PROC_EXIT_EVENT = 1,
-        VIR_LXC_MONITOR_PROC_INIT_EVENT = 2,
+	VIR_LXC_MONITOR_PROC_EXIT_EVENT = 1,
+	VIR_LXC_MONITOR_PROC_INIT_EVENT = 2
 };
 typedef enum virLXCMonitorProcedure virLXCMonitorProcedure;
-
-/* the xdr functions */
-
-#if defined(__STDC__) || defined(__cplusplus)
-extern  bool_t xdr_virLXCMonitorExitStatus (XDR *, virLXCMonitorExitStatus*);
-extern  bool_t xdr_virLXCMonitorExitEventMsg (XDR *, virLXCMonitorExitEventMsg*);
-extern  bool_t xdr_virLXCMonitorInitEventMsg (XDR *, virLXCMonitorInitEventMsg*);
-extern  bool_t xdr_virLXCMonitorProcedure (XDR *, virLXCMonitorProcedure*);
-
-#else /* K&R C */
-extern bool_t xdr_virLXCMonitorExitStatus ();
-extern bool_t xdr_virLXCMonitorExitEventMsg ();
-extern bool_t xdr_virLXCMonitorInitEventMsg ();
-extern bool_t xdr_virLXCMonitorProcedure ();
-
-#endif /* K&R C */
-
 #ifdef __cplusplus
-}
-#endif
+extern "C" bool_t xdr_virLXCMonitorProcedure(XDR *, virLXCMonitorProcedure *);
+#elif defined(__STDC__)
+extern bool_t xdr_virLXCMonitorProcedure(XDR *, virLXCMonitorProcedure *);
+#else /* Old Style C */
+bool_t xdr_virLXCMonitorProcedure();
+#endif /* Old Style C */
+
 
 #endif /* !_LXC_MONITOR_PROTOCOL_H_RPCGEN */
diff --git a/src/util/virerror.c b/src/util/virerror.c
index 1177570..39c80db 100644
--- a/src/util/virerror.c
+++ b/src/util/virerror.c
@@ -138,6 +138,7 @@ VIR_ENUM_IMPL(virErrorDomain, VIR_ERR_DOMAIN_LAST,
               "Xen XL Config",
 
               "Perf",
+              "OpenBSD VMM",
     )
 
 
diff --git a/src/util/virhostcpu.c b/src/util/virhostcpu.c
index fed5be7..35701e3 100644
--- a/src/util/virhostcpu.c
+++ b/src/util/virhostcpu.c
@@ -38,7 +38,7 @@
 # include <linux/kvm.h>
 #endif
 
-#if defined(__FreeBSD__) || defined(__APPLE__)
+#if defined(__FreeBSD__) || defined(__APPLE__) || defined(__OpenBSD__)
 # include <sys/time.h>
 # include <sys/types.h>
 # include <sys/sysctl.h>
@@ -77,7 +77,7 @@ VIR_LOG_INIT("util.hostcpu");
 #endif
 
 
-#if defined(__FreeBSD__) || defined(__APPLE__)
+#if defined(__FreeBSD__) || defined(__APPLE__) || defined(__OpenBSD__)
 static int
 virHostCPUGetCountAppleFreeBSD(void)
 {
@@ -92,7 +92,7 @@ virHostCPUGetCountAppleFreeBSD(void)
 
     return ncpu;
 }
-#endif /* defined(__FreeBSD__) || defined(__APPLE__) */
+#endif /* defined(__FreeBSD__) || defined(__APPLE__) || defined(__OpenBSD__)*/
 
 #ifdef __FreeBSD__
 # define BSD_CPU_STATS_ALL 4
@@ -991,7 +991,7 @@ virHostCPUGetInfo(virArch hostarch ATTRIBUTE_UNUSED,
  cleanup:
     VIR_FORCE_FCLOSE(cpuinfo);
     return ret;
-#elif defined(__FreeBSD__) || defined(__APPLE__)
+#elif defined(__FreeBSD__) || defined(__APPLE__) || defined(__OpenBSD__)
     unsigned long cpu_freq;
     size_t cpu_freq_len = sizeof(cpu_freq);
 
@@ -1011,6 +1011,26 @@ virHostCPUGetInfo(virArch hostarch ATTRIBUTE_UNUSED,
     }
 
     *mhz = cpu_freq;
+# elif defined(__OpenBSD__)
+
+    int cpuspeed_mib[2] = { CTL_HW, HW_CPUSPEED };
+    unsigned long cpuspeed;
+    size_t cpuspeed_len = sizeof(cpuspeed);
+
+    if (sysctl(cpuspeed_mib, 2, &cpuspeed, &cpuspeed_len, NULL, 0) == -1) {
+        virReportSystemError(errno, "%s", _("Cannot obtain CPU frequency"));
+        return -1;
+    }
+
+/*
+    return ncpu;
+    if (sysctlbyname("hw.cpuspeed", &cpu_freq, &cpu_freq_len, NULL, 0) < 0) {
+        virReportSystemError(errno, "%s", _("cannot obtain CPU freq"));
+        return -1;
+    }
+*/
+
+    *mhz = cpu_freq;
 # else
     if (sysctlbyname("hw.cpufrequency", &cpu_freq, &cpu_freq_len, NULL, 0) < 0) {
         virReportSystemError(errno, "%s", _("cannot obtain CPU freq"));
diff --git a/src/util/virprocess.c b/src/util/virprocess.c
index 09dd3c9..f600848 100644
--- a/src/util/virprocess.c
+++ b/src/util/virprocess.c
@@ -40,7 +40,7 @@
 # include <sys/param.h>
 #endif
 
-#if defined(__FreeBSD__) || defined(__FreeBSD_kernel__)
+#if defined(__FreeBSD__) || defined(__FreeBSD_kernel__) || defined(__OpenBSD__)
 # include <sys/sysctl.h>
 # include <sys/user.h>
 #endif
@@ -1006,6 +1006,54 @@ int virProcessGetStartTime(pid_t pid,
     return 0;
 
 }
+#elif defined(__OpenBSD__)
+int virProcessGetStartTime(pid_t pid,
+                           unsigned long long *timestamp)
+{
+    int mib [6];
+    size_t size;
+    struct kinfo_proc *pi;
+
+    mib[0] = CTL_KERN;
+    mib[1] = KERN_PROC;
+    mib[2] = KERN_PROC_PID;
+    mib[3] = pid;
+    mib[4] = sizeof(struct kinfo_proc);
+    mib[5] = 0;
+
+/*
+    if (sysctl(mib, 6, NULL, &size, NULL, 0) < 0) {
+        virReportSystemError(errno, "%s",
+                             _("Unable to query process ID start time"));
+        return -1;
+    }
+
+*/
+    if ((pi = malloc(size)) == NULL) {
+        virReportSystemError(errno, "%s",
+                             _("Unable to allocate memory"));
+        return -1;
+    }
+
+    mib[5] = (int)(size / sizeof(struct kinfo_proc));
+
+    if ((sysctl (mib, 6, pi, &size, NULL, 0) < 0) ||
+       (size != sizeof (struct kinfo_proc))) {
+       if (errno == ENOMEM) {
+                free(pi);
+        }
+        virReportSystemError(errno, "%s",
+                             _("Unable to allocate memory"));
+        return -1;
+    }
+
+    //if (strlen (pi->p_ustart_sec) > 0)
+    //	*timestamp = (unsigned long long)pi.p_ustart_sec;
+
+    free(pi);
+    return 0;
+
+}
 #else
 int virProcessGetStartTime(pid_t pid,
                            unsigned long long *timestamp)
diff --git a/tests/Makefile.in b/tests/Makefile.in
index ae15863..e1d6f9d 100644
--- a/tests/Makefile.in
+++ b/tests/Makefile.in
@@ -376,6 +376,7 @@ am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
 	$(top_srcdir)/m4/virt-compile-warnings.m4 \
 	$(top_srcdir)/m4/virt-curl.m4 $(top_srcdir)/m4/virt-dbus.m4 \
 	$(top_srcdir)/m4/virt-driver-bhyve.m4 \
+	$(top_srcdir)/m4/virt-driver-openbsd-vmm.m4 \
 	$(top_srcdir)/m4/virt-driver-uml.m4 \
 	$(top_srcdir)/m4/virt-driver-vz.m4 \
 	$(top_srcdir)/m4/virt-fuse.m4 $(top_srcdir)/m4/virt-gluster.m4 \
@@ -3212,6 +3213,8 @@ VGREMOVE = @VGREMOVE@
 VGS = @VGS@
 VGSCAN = @VGSCAN@
 VIR_TEST_EXPENSIVE_DEFAULT = @VIR_TEST_EXPENSIVE_DEFAULT@
+VMCTL = @VMCTL@
+VMD = @VMD@
 WARN_CFLAGS = @WARN_CFLAGS@
 WCHAR_T_SUFFIX = @WCHAR_T_SUFFIX@
 WIN32_EXTRA_CFLAGS = @WIN32_EXTRA_CFLAGS@
diff --git a/tools/Makefile.in b/tools/Makefile.in
index 2fa2779..8bfa25f 100644
--- a/tools/Makefile.in
+++ b/tools/Makefile.in
@@ -244,6 +244,7 @@ am__aclocal_m4_deps = $(top_srcdir)/m4/00gnulib.m4 \
 	$(top_srcdir)/m4/virt-compile-warnings.m4 \
 	$(top_srcdir)/m4/virt-curl.m4 $(top_srcdir)/m4/virt-dbus.m4 \
 	$(top_srcdir)/m4/virt-driver-bhyve.m4 \
+	$(top_srcdir)/m4/virt-driver-openbsd-vmm.m4 \
 	$(top_srcdir)/m4/virt-driver-uml.m4 \
 	$(top_srcdir)/m4/virt-driver-vz.m4 \
 	$(top_srcdir)/m4/virt-fuse.m4 $(top_srcdir)/m4/virt-gluster.m4 \
@@ -1858,6 +1859,8 @@ VGREMOVE = @VGREMOVE@
 VGS = @VGS@
 VGSCAN = @VGSCAN@
 VIR_TEST_EXPENSIVE_DEFAULT = @VIR_TEST_EXPENSIVE_DEFAULT@
+VMCTL = @VMCTL@
+VMD = @VMD@
 WARN_CFLAGS = @WARN_CFLAGS@
 WCHAR_T_SUFFIX = @WCHAR_T_SUFFIX@
 WIN32_EXTRA_CFLAGS = @WIN32_EXTRA_CFLAGS@
diff --git a/tools/virsh.c b/tools/virsh.c
index 5dc482d..a321cd5 100644
--- a/tools/virsh.c
+++ b/tools/virsh.c
@@ -617,6 +617,9 @@ virshShowVersion(vshControl *ctl ATTRIBUTE_UNUSED)
 #ifdef WITH_BHYVE
     vshPrint(ctl, " Bhyve");
 #endif
+#ifdef WITH_OPENBSD_VMM
+    vshPrint(ctl, " OpenBSDVMM");
+#endif
 #ifdef WITH_TEST
     vshPrint(ctl, " Test");
 #endif
