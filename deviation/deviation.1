.\"	$Id$
.\"
.\" Copyright (c) 2018 Sergey Bronnikov
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: September 20 2018 $
.Dt DEVIATION 1
.Os
.Sh NAME
.Nm deviation
.Nd tool to detect anomalies in time-series data
.Sh SYNOPSIS
.Nm
.Op Fl h
.Op Fl t Ar type
.Op Fl v
.Sh DESCRIPTION
The
.Nm
is a tool to detect anomalies which is robust, from a statistical standpoint,
in the presence of seasonality and an underlying trend.
The deviation tool can be used in wide variety of contexts.
For example, detecting anomalies in system metrics after a new software
release, user engagement post an A/B test, or for problems in software testing.
In order to do this, anomaly needs to see a stream of numeric data, and apply
one of its detection methods.
.Sh USAGE
.Bl -tag -width Ds
.It Pa DETECTION TYPE - THRESHOLD
The simplest detection method is threshold, which compares the data to an
absolute value.
This method can use a minimum and a maximum value for comparison.
These alternatives are all valid, and make use of --min, --max or both.
.It Pa DETECTION TYPE - STANDARD DEVIATION
Standard deviation measures differences from the mean value of a sample of data,
and is useful for detecting extraordinary values.
The sample size can be chosen such that there is enough data to determine a
good mean value, but defaults to 10. The limited sample size means that a
rolling window of data is used, and therefore the mean and standard deviation
is updated for the current window.
This makes the monitoring somewhat adaptive.
.El
.Sh EXIT STATUS
.Ex -std
.Sh EXAMPLES
.Bd -literal

.Ed
.Sh SEE ALSO
.Xr awk 1
.Xr R 1
.Xr octave 1
.Xr gnuplot 1
.Sh AUTHORS
The
.Nm
utility was written by
.An Sergey Bronnikov
